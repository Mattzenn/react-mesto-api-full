{"code":"(this[\"webpackJsonpmesto-react\"]=this[\"webpackJsonpmesto-react\"]||[]).push([[0],{29:function(e,t,n){},36:function(e,t,n){\"use strict\";n.r(t);var a=n(1),c=n.n(a),o=n(18),s=n.n(o),i=(n(29),n(22)),r=n(2),l=n.p+\"static/media/logo.03b78ada.svg\",u=n(7),p=n(0);function d(e){var t=e.loggedIn,n=e.email,a=e.onSignOut;return Object(p.jsxs)(\"div\",{className:\"header__info\",children:[Object(p.jsx)(\"p\",{className:\"header__email\",children:n}),Object(p.jsx)(u.b,{to:\"sign-up\",className:\"header__link \".concat(t&&\"header__link_state_active\"),onClick:a,children:\"\\u0412\\u044b\\u0439\\u0442\\u0438\"})]})}var h=n(3);var m=Object(h.i)((function(e){var t=e.loggedIn,n=e.email,a=e.onSignOut,c=Object(h.h)();return Object(p.jsxs)(\"header\",{className:\"header\",children:[Object(p.jsx)(\"img\",{className:\"header__logo\",src:l,alt:\"\\u041b\\u043e\\u0433\\u043e\\u0442\\u0438\\u043f\"}),t?Object(p.jsx)(d,{email:n,loggedIn:t,onSignOut:a}):Object(p.jsx)(p.Fragment,{children:\"/sign-up\"===c.pathname?Object(p.jsx)(u.b,{className:\"header__link\",to:\"/sign-in\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044f\"}):Object(p.jsx)(u.b,{className:\"header__link\",to:\"/sign-up\",children:\"\\u0412\\u043e\\u0439\\u0442\\u0438\"})})]})}));var j=function(){var e=Object(h.h)(),t=(new Date).getFullYear();return Object(p.jsx)(p.Fragment,{children:\"/sign-up\"===e.pathname||\"/sign-in\"===e.pathname?Object(p.jsx)(p.Fragment,{}):Object(p.jsx)(\"footer\",{className:\"footer\",children:Object(p.jsxs)(\"p\",{className:\"footer__copyright\",children:[\"\\xa9 \",t,\" Mesto Russia\"]})})})},_=c.a.createContext();var b=function(e){var t=c.a.useContext(_),n=e.card.owner===t._id,a=\"elements__remove-button \".concat(n?\"\":\"elements__remove-button_state_hidden\"),o=e.card.likes.some((function(e){return e===t._id})),s=\"elements__like-button \".concat(o?\"elements__like-button_active\":\"\");return Object(p.jsxs)(\"li\",{className:\"elements__card\",children:[Object(p.jsx)(\"img\",{className:\"elements__image\",src:e.card.link,alt:e.card.name,onClick:function(){e.onCardClick(e.card)}}),Object(p.jsxs)(\"div\",{className:\"elements__container\",children:[Object(p.jsx)(\"h2\",{className:\"elements__title\",children:e.card.name}),Object(p.jsxs)(\"div\",{className:\"elements__like\",children:[Object(p.jsx)(\"button\",{type:\"button\",className:s,onClick:function(){e.onCardLike(e.card)}}),Object(p.jsx)(\"span\",{className:\"elements__like-count\",children:e.card.likes.length})]})]}),Object(p.jsx)(\"button\",{className:a,onClick:function(){e.onCardDelete(e.card)},type:\"button\"})]})};var f=function(e){var t=e.onEditAvatar,n=e.onEditProfile,a=e.onAddPlace,o=e.onCardClick,s=e.handleCardLike,i=e.handleCardDelete,r=e.cards,l=c.a.useContext(_);return Object(p.jsxs)(\"main\",{className:\"content\",children:[Object(p.jsxs)(\"section\",{className:\"profile\",children:[Object(p.jsxs)(\"div\",{className:\"profile__avatar-wrapper\",children:[Object(p.jsx)(\"img\",{className:\"profile__avatar\",src:l.avatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"}),Object(p.jsx)(\"button\",{type:\"button\",className:\"profile__avatar-button\",onClick:t})]}),Object(p.jsxs)(\"div\",{className:\"profile__info\",children:[Object(p.jsxs)(\"div\",{className:\"profile__container\",children:[Object(p.jsx)(\"h1\",{className:\"profile__name\",children:l.name}),Object(p.jsx)(\"button\",{type:\"button\",className:\"profile__edit-button\",onClick:n})]}),Object(p.jsx)(\"h2\",{className:\"profile__about\",children:l.about})]}),Object(p.jsx)(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:a})]}),Object(p.jsx)(\"section\",{className:\"cards\",children:Object(p.jsx)(\"ul\",{className:\"elements\",children:r.map((function(e){return Object(p.jsx)(b,{card:e,onCardClick:o,onCardLike:s,onCardDelete:i},e._id)}))})})]})};var g=function(e){var t,n;return Object(p.jsx)(\"div\",{className:\"popup popup_zoom-image \".concat(e.card?\"popup_opened\":\"\"),children:Object(p.jsxs)(\"div\",{className:\"popup__figure-container popup__overlay\",children:[Object(p.jsxs)(\"figure\",{className:\"popup__figure\",children:[Object(p.jsx)(\"img\",{className:\"popup__image\",src:null===(t=e.card)||void 0===t?void 0:t.link,alt:null===(n=e.card)||void 0===n?void 0:n.name}),Object(p.jsx)(\"figcaption\",{className:\"popup__caption\",children:e.card?e.card.name:\"\"})]}),Object(p.jsx)(\"button\",{type:\"button\",className:\"popup__close-button popup__close-button_zoom-image\",onClick:e.onClose})]})})},O=n(20),v=n(21),x=function(){function e(t){Object(O.a)(this,e),this._url=t.url,this._headers=t.headers}return Object(v.a)(e,[{key:\"_checkResponse\",value:function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}},{key:\"getCards\",value:function(){return fetch(this._url+\"/cards\",{method:\"GET\",headers:this._headers}).then(this._checkResponse)}},{key:\"getApiUserInfo\",value:function(){return fetch(this._url+\"/users/me\",{method:\"GET\",headers:this._headers}).then(this._checkResponse)}},{key:\"setApiUserInfo\",value:function(e){return fetch(this._url+\"/users/me\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}},{key:\"postCards\",value:function(e){return fetch(this._url+\"/cards\",{method:\"POST\",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}},{key:\"deleteCard\",value:function(e){return fetch(this._url+\"/cards/\".concat(e),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse)}},{key:\"setAvatar\",value:function(e){return fetch(this._url+\"/users/me/avatar\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}},{key:\"changeLikeCardStatus\",value:function(e,t){return fetch(this._url+\"/cards/\".concat(e,\"/likes\"),{method:\"\".concat(t?\"PUT\":\"DELETE\"),headers:this._headers}).then(this._checkResponse)}},{key:\"deleteLike\",value:function(e){return fetch(this._url+\"/cards/likes/\".concat(e),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse)}}]),e}(),N=localStorage.getItem(\"token\");console.log(\"\\u042d\\u0442\\u043e api \".concat(N));var k=new x({url:\"https://api.mattzenn.nomoredomains.club\",headers:{Authorization:\"Bearer \".concat(N),\"Content-Type\":\"application/json\"}});var C=function(e){return Object(p.jsx)(\"div\",{className:\"popup \".concat(e.isOpen?\"popup_opened\":\"\"),children:Object(p.jsxs)(\"div\",{className:\"popup__container\",children:[Object(p.jsxs)(\"form\",{className:\"popup__form\",name:e.name,onSubmit:e.onSubmit,children:[Object(p.jsx)(\"h2\",{className:\"popup__title\",children:e.title}),e.children,Object(p.jsx)(\"button\",{type:\"submit\",className:\"popup__button\",children:\"\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\"})]}),Object(p.jsx)(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:e.onClose})]})})};var y=function(e){var t=e.isOpen,n=e.onUpdateUser,a=e.onClose,o=c.a.useState(\"\"),s=Object(r.a)(o,2),i=s[0],l=s[1],u=c.a.useState(\"\"),d=Object(r.a)(u,2),h=d[0],m=d[1],j=c.a.useContext(_);return c.a.useEffect((function(){l(j.name),m(j.about)}),[j,t]),Object(p.jsxs)(C,{name:\"profile-edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043f\\u0440\\u043e\\u0444\\u0438\\u043b\\u044c\",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({name:i,about:h})},children:[Object(p.jsx)(\"input\",{id:\"userName\",name:\"userName\",className:\"popup__input popup__input_user_name\",type:\"text\",placeholder:\"\\u0418\\u043c\\u044f\",minLength:\"2\",maxLength:\"40\",required:!0,value:i||\"\",onChange:function(e){l(e.target.value)}}),Object(p.jsx)(\"span\",{id:\"userName-error\",className:\"popup__input-error\"}),Object(p.jsx)(\"input\",{id:\"userAbout\",name:\"userAbout\",className:\"popup__input popup__input_user_description\",type:\"text\",placeholder:\"\\u041f\\u0440\\u043e\\u0444\\u0435\\u0441\\u0441\\u0438\\u044f\",minLength:\"2\",maxLength:\"200\",required:!0,value:h||\"\",onChange:function(e){m(e.target.value)}}),Object(p.jsx)(\"span\",{id:\"userAbout-error\",className:\"popup__input-error\"})]})};var S=function(e){var t=e.isOpen,n=e.onUpdateAvatar,o=e.onClose,s=c.a.useRef(\"\");return Object(a.useEffect)((function(){s.current.value=\"\"}),[t]),Object(p.jsxs)(C,{name:\"avatar-edit\",title:\"\\u041e\\u0431\\u043d\\u043e\\u0432\\u0438\\u0442\\u044c \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",isOpen:t,onClose:o,onSubmit:function(e){e.preventDefault(),n({avatar:s.current.value})},children:[Object(p.jsx)(\"input\",{id:\"avatar-link\",name:\"userAvatar\",className:\"popup__input popup__input_place_description\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u043a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0443\",minLength:\"2\",maxLength:\"100000\",required:!0,ref:s}),Object(p.jsx)(\"span\",{id:\"avatar-link-error\",className:\"popup__input-error\"})]})};var E=function(e){var t=e.onAddPlace,n=e.isOpen,o=e.onClose,s=c.a.useState(\"\"),i=Object(r.a)(s,2),l=i[0],u=i[1],d=c.a.useState(\"\"),h=Object(r.a)(d,2),m=h[0],j=h[1];return Object(a.useEffect)((function(){u(\"\"),j(\"\")}),[n]),Object(p.jsxs)(C,{name:\"card-add\",title:\"\\u041d\\u043e\\u0432\\u043e\\u0435 \\u043c\\u0435\\u0441\\u0442\\u043e\",isOpen:n,onClose:o,onSubmit:function(e){e.preventDefault(),t({name:l,link:m})},isModal:!0,children:[Object(p.jsx)(\"input\",{id:\"placeName\",name:\"name\",className:\"popup__input popup__input_place_name\",type:\"text\",placeholder:\"\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435\",minLength:\"2\",maxLength:\"30\",value:l,required:!0,onChange:function(e){u(e.target.value)}}),Object(p.jsx)(\"span\",{id:\"placeName-error\",className:\"popup__input-error\"}),Object(p.jsx)(\"input\",{id:\"link\",name:\"link\",className:\"popup__input popup__input_place_description\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u043a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0443\",minLength:\"2\",maxLength:\"100000\",value:m,required:!0,onChange:function(e){j(e.target.value)}}),Object(p.jsx)(\"span\",{id:\"link-error\",className:\"popup__input-error\"})]})},L=n(23),A=n(24),T=[\"component\"];function I(e){var t=e.component,n=Object(A.a)(e,T);return Object(p.jsx)(h.b,{children:function(){return n.loggedIn?Object(p.jsx)(t,Object(L.a)({},n)):Object(p.jsx)(h.a,{to:\"/sign-in\"})}})}function P(e){var t=e.children,n=e.formName,a=e.onSubmit,c=e.buttonText,o=e.title;return Object(p.jsx)(\"div\",{className:\"auth-page\",children:Object(p.jsxs)(\"form\",{className:\"auth-page__form\",name:n,onSubmit:a,children:[Object(p.jsx)(\"h2\",{className:\"auth-page__title\",children:o}),t,Object(p.jsx)(\"button\",{type:\"submit\",className:\"auth-page__button\",children:c}),\"register\"===n&&Object(p.jsx)(u.b,{className:\"auth-page__link\",to:\"/sign-up\",children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u044b? \\u0412\\u043e\\u0439\\u0442\\u0438\"})]})})}function w(e){var t=e.onAuth,n=c.a.useState(\"\"),a=Object(r.a)(n,2),o=a[0],s=a[1],i=c.a.useState(\"\"),l=Object(r.a)(i,2),u=l[0],d=l[1];function h(e){var t=e.target.value;\"Email\"===e.target.name?s(t):d(t)}return Object(p.jsx)(\"div\",{className:\"login\",children:Object(p.jsxs)(P,{formName:\"login\",onSubmit:function(e){e.preventDefault(),t(u,o),console.log(u,o)},title:\"\\u0412\\u0445\\u043e\\u0434\",buttonText:\"\\u0412\\u043e\\u0439\\u0442\\u0438\",children:[Object(p.jsx)(\"input\",{name:\"Email\",type:\"email\",className:\"popup__input popup__input_type_login\",id:\"email\",placeholder:\"Email\",minLength:\"6\",maxLength:\"40\",required:!0,value:o,onChange:h}),Object(p.jsx)(\"input\",{name:\"Password\",type:\"password\",className:\"popup__input popup__input_type_login\",id:\"password\",placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",minLength:\"6\",maxLength:\"40\",required:!0,value:u,onChange:h})]})})}function D(e){var t=e.onRegister,n=Object(a.useState)(\"\"),c=Object(r.a)(n,2),o=c[0],s=c[1],i=Object(a.useState)(\"\"),l=Object(r.a)(i,2),u=l[0],d=l[1];function h(e){var t=e.target.value;\"Email\"===e.target.name?s(t):d(t)}return Object(p.jsx)(\"div\",{className:\"register\",children:Object(p.jsxs)(P,{formName:\"register\",title:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044f\",onSubmit:function(e){e.preventDefault(),t(u,o),console.log(u,o)},buttonText:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c\\u0441\\u044f\",children:[Object(p.jsx)(\"input\",{name:\"Email\",type:\"email\",className:\"popup__input popup__input_type_login\",id:\"email\",placeholder:\"Email\",minLength:\"6\",maxLength:\"40\",required:!0,value:o,onChange:h}),Object(p.jsx)(\"input\",{name:\"Password\",type:\"password\",className:\"popup__input popup__input_type_login\",id:\"password\",placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",minLength:\"6\",maxLength:\"40\",required:!0,value:u,onChange:h})]})})}var R=\"https://api.mattzenn.nomoredomains.club\",U=function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430 \".concat(e.status))};function q(e){var t=e.isOpen,n=e.onClose,a=e.title,c=e.img;return Object(p.jsx)(\"div\",{className:\"popup \".concat(t?\"popup_opened\":\"\"),children:Object(p.jsxs)(\"div\",{className:\"popup__container popup__overlay\",children:[Object(p.jsxs)(\"div\",{className:\"popup__wrapper\",children:[Object(p.jsx)(\"img\",{src:c,alt:c,className:\"popup__tooltip\"}),Object(p.jsx)(\"h2\",{className:\"popup__title popup__title_type_tooltip\",children:a})]}),Object(p.jsx)(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:n})]})})}var F=n.p+\"static/media/Success.1b6082f8.svg\",z=n.p+\"static/media/unSuccess.df8eddf6.svg\";var J=function(){var e=c.a.useState(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],o=c.a.useState(!1),s=Object(r.a)(o,2),l=s[0],u=s[1],d=c.a.useState(!1),b=Object(r.a)(d,2),O=b[0],v=b[1],x=c.a.useState(null),N=Object(r.a)(x,2),C=N[0],L=N[1],A=c.a.useState({}),T=Object(r.a)(A,2),P=T[0],J=T[1],B=c.a.useState([]),G=Object(r.a)(B,2),M=G[0],H=G[1],Y=c.a.useState(!1),K=Object(r.a)(Y,2),Q=K[0],V=K[1],W=Object(h.g)(),X=c.a.useState(\"\"),Z=Object(r.a)(X,2),$=Z[0],ee=Z[1],te=c.a.useState(!1),ne=Object(r.a)(te,2),ae=ne[0],ce=ne[1],oe=c.a.useState({img:\"\",text:\"\"}),se=Object(r.a)(oe,2),ie=se[0],re=se[1],le=c.a.useState(\"\"),ue=Object(r.a)(le,2),pe=(ue[0],ue[1]);function de(){v(!1),a(!1),u(!1),L(null),ce(!1)}return c.a.useEffect((function(){if(Q){var e=localStorage.getItem(\"token\");console.log(\"\\u044d\\u0442\\u043e\\u0442 \\u0442\\u043e\\u043a\\u0435\\u043d \\u043d\\u0430 \\u0444\\u0440\\u043e\\u043d\\u0442\\u0435 \\u044f \\u043e\\u0442\\u043f\\u0440\\u0430\\u0432\\u043b\\u044f\\u044e \\u043d\\u0430 \\u0437\\u0430\\u043f\\u0440\\u043e\\u0441 \\u0441 \\u0444\\u0440\\u043e\\u043d\\u0442\\u0430 \\u043f\\u043e\\u0441\\u043b\\u0435 \\u043b\\u043e\\u0433\\u0438\\u043d\\u0430 \".concat(e)),function(e){return fetch(\"\".concat(R,\"/users/me\"),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(e),\"Content-Type\":\"application/json\"}}).then(U)}(e).then((function(e){J(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))}}),[Q]),c.a.useEffect((function(){Q&&k.getCards().then((function(e){console.log(e),H(e.reverse())})).catch((function(e){return console.log(e)}))}),[Q]),c.a.useEffect((function(){var e=function(e){\"Escape\"===e.key&&de()};return document.addEventListener(\"keydown\",e),function(){return document.removeEventListener(\"keydown\",e)}}),[]),c.a.useEffect((function(){!function(){var e=localStorage.getItem(\"token\");console.log(\"\\u0442\\u043e\\u0447\\u043d\\u043e \\u0442\\u043e\\u0447\\u043d\\u043e \\u0442\\u043e\\u0447\\u043d\\u043e \\u043e\\u043d? \".concat(e)),e&&function(e){return console.log(\"\\u0442\\u043e\\u043a\\u0435\\u043d \\u0434\\u043b\\u044f \\u043f\\u0440\\u043e\\u0432\\u0435\\u0440\\u043a\\u0438 \".concat(e)),fetch(\"\".concat(R,\"/users/\"),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(e)}}).then(U)}(e).then((function(e){V(!0),ee(e.data.email),W.push(\"/\")})).catch((function(e){return console.log(e)}))}()}),[]),Object(p.jsx)(_.Provider,{value:P,children:Object(p.jsxs)(\"div\",{className:\"page\",children:[Object(p.jsx)(m,{loggedIn:Q,email:$,onSignOut:function(){localStorage.removeItem(\"token\"),pe(\"\");var e=localStorage.getItem(\"token\");console.log(e),V(!1)}}),Object(p.jsxs)(h.d,{children:[Object(p.jsx)(I,{exact:!0,path:\"/\",loggedIn:Q,component:f,onEditAvatar:function(){v(!0)},onEditProfile:function(){a(!0)},onAddPlace:function(){u(!0)},onCardClick:function(e){L(e)},handleCardLike:function(e){var t=e.likes.some((function(e){return e===P._id}));k.changeLikeCardStatus(e._id,!t).then((function(t){H((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)}))},handleCardDelete:function(e){k.deleteCard(e._id).then((function(){H(M.filter((function(t){return t!==e})))})).catch((function(e){return console.log(e)}))},cards:M}),Object(p.jsx)(h.b,{path:\"/sign-in\",children:Object(p.jsx)(D,{isOpen:n,onRegister:function(e,t){(function(e,t){return fetch(\"\".concat(R,\"/signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:e,email:t})}).then(U)})(e,t).then((function(e){ee(e.data.email),re({img:F,text:\"\\u0412\\u044b \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043b\\u0438\\u0441\\u044c!\"}),W.push(\"/sign-in\")})).catch((function(){return re({img:z,text:\"\\u0427\\u0442\\u043e-\\u0442\\u043e \\u043f\\u043e\\u0448\\u043b\\u043e \\u043d\\u0435 \\u0442\\u0430\\u043a! \\u041f\\u043e\\u043f\\u0440\\u043e\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437.\"})})).finally((function(){return ce(!0)}))},isInfoTooltipOpen:ae})}),Object(p.jsx)(h.b,{path:\"/sign-up\",children:Object(p.jsx)(w,{isOpen:n,onAuth:function(e,t){(function(e,t){return fetch(\"\".concat(R,\"/signin\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:e,email:t})}).then(U)})(e,t).then((function(e){console.log(\"\\u044d\\u0442\\u043e\\u043e\\u043e\\u043e\\u043e\\u043e\\u043e\\u043e \\u043e\\u043d\\u043d\\u043d\\u043d\\u043d\\u043d\\u043d\\u043d \\u043d\\u0430 \\u0444\\u0440\\u043e\\u043d\\u0442\\u0435 \".concat(e.token)),localStorage.setItem(\"token\",e.token);var n=localStorage.getItem(\"token\");console.log(n),V(!0),W.push(\"/\"),ee(t)})).catch((function(e){return console.log(e)}))}})})]}),Object(p.jsx)(j,{}),Object(p.jsx)(q,{name:\"tooltip\",isOpen:ae,onClose:de,title:ie.text,img:ie.img}),Object(p.jsx)(E,{isOpen:l,onClose:de,onAddPlace:function(e){k.postCards(e).then((function(e){console.log(e),console.log(M.data),console.log(M),H([e].concat(Object(i.a)(M))),de()})).catch((function(e){return console.log(e)}))}}),Object(p.jsx)(y,{isOpen:n,onClose:de,onUpdateUser:function(e){k.setApiUserInfo(e).then((function(e){J(e.data),de()})).catch((function(e){return console.log(e)}))}}),Object(p.jsx)(g,{card:C,onClose:de}),Object(p.jsx)(S,{isOpen:O,onClose:de,onUpdateAvatar:function(e){k.setAvatar(e).then((function(e){J(e.data),de()})).catch((function(e){return console.log(e)}))}})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),o(e),s(e)}))};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(u.a,{basename:\"/\",children:Object(p.jsx)(J,{})})}),document.getElementById(\"root\")),B()}},[[36,1,2]]]);","name":"static/js/main.56b1fcd0.chunk.js","map":{"version":3,"sources":["static/js/main.56b1fcd0.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","toConsumableArray","slicedToArray","logo","p","react_router_dom","jsx_runtime","Info","_ref","loggedIn","email","onSignOut","Object","className","children","to","concat","onClick","react_router","components_Header","location","src","alt","pathname","components_Footer","nowyear","Date","getFullYear","CurrentUserContext","a","createContext","components_Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","id","cardLikeButtonClassName","link","name","onCardClick","type","onCardLike","length","onCardDelete","components_Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","avatar","about","map","components_ImagePopup","_props$card","_props$card2","onClose","classCallCheck","createClass","api_Api","Api","config","_url","url","_headers","headers","key","value","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","newdata","body","JSON","stringify","data","api_jwt","localStorage","getItem","console","log","utils_api","Authorization","components_PopupWithForm","isOpen","onSubmit","title","components_EditProfilePopup","onUpdateUser","_React$useState","useState","_React$useState2","setName","_React$useState3","_React$useState4","description","setDescription","useEffect","e","preventDefault","placeholder","minLength","maxLength","required","onChange","target","components_EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","components_AddPlacePopup","setLink","isModal","objectSpread2","objectWithoutProperties","_excluded","ProtectedRoute","Component","component","AuthPage","formName","buttonText","Register","onAuth","setEmail","password","setPassword","handleChange","Rigister_Register","onRegister","_useState","_useState2","_useState3","_useState4","BASE_URL","handleResponse","response","InfoTooltip","img","Success","unSuccess","components_App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","_React$useState5","_React$useState6","isEditAvatarPopupOpen","setEditAvatarPopupOpen","_React$useState7","_React$useState8","selectedCard","setSelectedCard","_React$useState9","_React$useState10","setCurrentUser","_React$useState11","_React$useState12","setCards","_React$useState13","_React$useState14","setLoggedIn","history","_React$useState15","_React$useState16","_React$useState17","_React$useState18","isInfoTooltipOpen","setIsInfoTooltipOpen","_React$useState19","text","_React$useState20","message","setMessage","_React$useState21","_React$useState22","setToken","closeAllPopups","jwt","token","ApiUserInfo","user","catch","err","getCards","reverse","closeByEscape","document","addEventListener","removeEventListener","Accept","getContent","tokenCheck","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","item","register","result","finally","authorize","setItem","ttt","cardData","postCards","userData","setApiUserInfo","setAvatar","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","basename","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmesto-react\"] = this[\"webpackJsonpmesto-react\"] || []).push([[0],{\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(18);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/images/logo.svg\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.03b78ada.svg\");\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Info.jsx\nfunction Info(_ref){var loggedIn=_ref.loggedIn,email=_ref.email,onSignOut=_ref.onSignOut;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"header__email\",children:email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"sign-up\",className:\"header__link \".concat(loggedIn&&'header__link_state_active'),onClick:onSignOut,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]});}\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/Header.jsx\nfunction Header(_ref){var loggedIn=_ref.loggedIn,email=_ref.email,onSignOut=_ref.onSignOut;var location=Object(react_router[\"h\" /* useLocation */])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"header__logo\",src:logo,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"}),loggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Info,{email:email,loggedIn:loggedIn,onSignOut:onSignOut}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:location.pathname==='/sign-up'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"header__link\",to:\"/sign-in\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"header__link\",to:\"/sign-up\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})})]});}/* harmony default export */ var components_Header = (Object(react_router[\"i\" /* withRouter */])(Header));\n// CONCATENATED MODULE: ./src/components/Footer.jsx\nfunction Footer(){var location=Object(react_router[\"h\" /* useLocation */])();var nowyear=new Date().getFullYear();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:location.pathname==='/sign-up'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{}):location.pathname==='/sign-in'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"footer\",{className:\"footer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"footer__copyright\",children:[\"\\xA9 \",nowyear,\" Mesto Russia\"]})})});}/* harmony default export */ var components_Footer = (Footer);\n// CONCATENATED MODULE: ./src/contexts/CurrentUserContext.js\nvar CurrentUserContext=/*#__PURE__*/react_default.a.createContext();\n// CONCATENATED MODULE: ./src/components/Card.jsx\nfunction Card(props){var currentUser=react_default.a.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=props.card.owner===currentUser._id;// Создаём переменную, которую после зададим в `className` для кнопки удаления\nvar cardDeleteButtonClassName=\"elements__remove-button \".concat(isOwn?'':'elements__remove-button_state_hidden');// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=props.card.likes.some(function(id){return id===currentUser._id;});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"elements__like-button \".concat(isLiked?'elements__like-button_active':'');function handleCardClick(){props.onCardClick(props.card);}function handleLikeClick(){props.onCardLike(props.card);}function handleDeleteClick(){props.onCardDelete(props.card);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{className:\"elements__card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"elements__image\",src:props.card.link,alt:props.card.name,onClick:handleCardClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"elements__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"elements__title\",children:props.card.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"elements__like\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:cardLikeButtonClassName,onClick:handleLikeClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"elements__like-count\",children:props.card.likes.length})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:cardDeleteButtonClassName,onClick:handleDeleteClick,type:\"button\"})]});}/* harmony default export */ var components_Card = (Card);\n// CONCATENATED MODULE: ./src/components/Main.jsx\nfunction Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCardClick=_ref.onCardClick,handleCardLike=_ref.handleCardLike,handleCardDelete=_ref.handleCardDelete,cards=_ref.cards;var currentUser=react_default.a.useContext(CurrentUserContext);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{className:\"content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:\"profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__avatar-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"profile__avatar\",src:currentUser.avatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"profile__avatar-button\",onClick:onEditAvatar})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"profile__name\",children:currentUser.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"profile__edit-button\",onClick:onEditProfile})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"profile__about\",children:currentUser.about})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:onAddPlace})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{className:\"cards\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Card,{card:card,onCardClick:onCardClick,onCardLike:handleCardLike,onCardDelete:handleCardDelete},card._id);})})})]});}/* harmony default export */ var components_Main = (Main);\n// CONCATENATED MODULE: ./src/components/ImagePopup.jsx\nfunction ImagePopup(props){var _props$card,_props$card2;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup popup_zoom-image \".concat(props.card?'popup_opened':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__figure-container popup__overlay\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"figure\",{className:\"popup__figure\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"popup__image\",src:(_props$card=props.card)===null||_props$card===void 0?void 0:_props$card.link,alt:(_props$card2=props.card)===null||_props$card2===void 0?void 0:_props$card2.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"figcaption\",{className:\"popup__caption\",children:props.card?props.card.name:''})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"popup__close-button popup__close-button_zoom-image\",onClick:props.onClose})]})});}/* harmony default export */ var components_ImagePopup = (ImagePopup);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/utils/api.js\nvar api_Api=/*#__PURE__*/function(){function Api(config){Object(classCallCheck[\"a\" /* default */])(this,Api);this._url=config.url;this._headers=config.headers;}Object(createClass[\"a\" /* default */])(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}// если ошибка, отклоняем промис\nreturn Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getCards\",value:function getCards(){return fetch(this._url+'/cards',{method:'GET',headers:this._headers}).then(this._checkResponse);}},{key:\"getApiUserInfo\",value:function getApiUserInfo(){return fetch(this._url+'/users/me',{method:'GET',headers:this._headers}).then(this._checkResponse);}},{key:\"setApiUserInfo\",value:function setApiUserInfo(newdata){return fetch(this._url+'/users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:newdata.name,about:newdata.about})}).then(this._checkResponse);}},{key:\"postCards\",value:function postCards(data){return fetch(this._url+'/cards',{method:'POST',headers:this._headers,body:JSON.stringify({name:data.name,link:data.link})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(data){return fetch(this._url+\"/cards/\".concat(data),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"setAvatar\",value:function setAvatar(data){return fetch(this._url+'/users/me/avatar',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(this._checkResponse);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked){return fetch(this._url+\"/cards/\".concat(id,\"/likes\"),{method:\"\".concat(isLiked?'PUT':'DELETE'),headers:this._headers}).then(this._checkResponse);}},{key:\"deleteLike\",value:function deleteLike(data){return fetch(this._url+\"/cards/likes/\".concat(data),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}}]);return Api;}();var api_jwt=localStorage.getItem('token');console.log(\"\\u042D\\u0442\\u043E api \".concat(api_jwt));var api=new api_Api({url:'https://api.mattzenn.nomoredomains.club',headers:{Authorization:\"Bearer \".concat(api_jwt),'Content-Type':'application/json'}});/* harmony default export */ var utils_api = (api);\n// CONCATENATED MODULE: ./src/components/PopupWithForm.jsx\nfunction PopupWithForm(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup \".concat(props.isOpen?'popup_opened':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"popup__form\",name:props.name,onSubmit:props.onSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"popup__title\",children:props.title}),props.children,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"popup__button\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:props.onClose})]})});}/* harmony default export */ var components_PopupWithForm = (PopupWithForm);\n// CONCATENATED MODULE: ./src/components/EditProfilePopup.jsx\nfunction EditProfilePopup(_ref){var isOpen=_ref.isOpen,onUpdateUser=_ref.onUpdateUser,onClose=_ref.onClose;var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];// Подписка на контекст\nvar currentUser=react_default.a.useContext(CurrentUserContext);// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nreact_default.a.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{name:\"profile-edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"userName\",name:\"userName\",className:\"popup__input popup__input_user_name\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,value:name||'',onChange:handleNameChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"userName-error\",className:\"popup__input-error\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"userAbout\",name:\"userAbout\",className:\"popup__input popup__input_user_description\",type:\"text\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",minLength:\"2\",maxLength:\"200\",required:true,value:description||'',onChange:handleDescriptionChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"userAbout-error\",className:\"popup__input-error\"})]});}/* harmony default export */ var components_EditProfilePopup = (EditProfilePopup);\n// CONCATENATED MODULE: ./src/components/EditAvatarPopup.jsx\nfunction EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onUpdateAvatar=_ref.onUpdateAvatar,onClose=_ref.onClose;var avatarRef=react_default.a.useRef('');function handleSubmit(e){e.preventDefault();onUpdateAvatar({avatar:avatarRef.current.value});}Object(react[\"useEffect\"])(function(){avatarRef.current.value='';},[isOpen]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{name:\"avatar-edit\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"avatar-link\",name:\"userAvatar\",className:\"popup__input popup__input_place_description\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",minLength:\"2\",maxLength:\"100000\",required:true,ref:avatarRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"avatar-link-error\",className:\"popup__input-error\"})]});}/* harmony default export */ var components_EditAvatarPopup = (EditAvatarPopup);\n// CONCATENATED MODULE: ./src/components/AddPlacePopup.jsx\nfunction AddPlacePopup(_ref){var onAddPlace=_ref.onAddPlace,isOpen=_ref.isOpen,onClose=_ref.onClose;var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),link=_React$useState4[0],setLink=_React$useState4[1];function handleNameChange(e){setName(e.target.value);}function handleLinkChange(e){setLink(e.target.value);}function handleSubmit(e){e.preventDefault();onAddPlace({name:name,link:link});}Object(react[\"useEffect\"])(function(){setName('');setLink('');},[isOpen]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_PopupWithForm,{name:\"card-add\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isModal:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"placeName\",name:\"name\",className:\"popup__input popup__input_place_name\",type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:\"2\",maxLength:\"30\",value:name,required:true,onChange:handleNameChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"placeName-error\",className:\"popup__input-error\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"link\",name:\"link\",className:\"popup__input popup__input_place_description\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",minLength:\"2\",maxLength:\"100000\",value:link,required:true,onChange:handleLinkChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"link-error\",className:\"popup__input-error\"})]});}/* harmony default export */ var components_AddPlacePopup = (AddPlacePopup);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./src/components/ProtectedRoute.jsx\nvar _excluded=[\"component\"];function ProtectedRoute(_ref){var Component=_ref.component,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{children:function children(){return props.loggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component,Object(objectSpread2[\"a\" /* default */])({},props)):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/sign-in\"});}});}\n// CONCATENATED MODULE: ./src/components/AuthPage.jsx\nfunction AuthPage(_ref){var children=_ref.children,formName=_ref.formName,onSubmit=_ref.onSubmit,buttonText=_ref.buttonText,title=_ref.title;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"auth-page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"auth-page__form\",name:formName,onSubmit:onSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"auth-page__title\",children:title}),children,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"auth-page__button\",children:buttonText}),formName==='register'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"auth-page__link\",to:\"/sign-up\",children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \\u0412\\u043E\\u0439\\u0442\\u0438\"})]})});}\n// CONCATENATED MODULE: ./src/components/Login.jsx\nfunction Register(_ref){var onAuth=_ref.onAuth;var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),email=_React$useState2[0],setEmail=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];function handleChange(e){var value=e.target.value;e.target.name==='Email'?setEmail(value):setPassword(value);}function handleSubmit(e){e.preventDefault();onAuth(password,email);console.log(password,email);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AuthPage,{formName:\"login\",onSubmit:handleSubmit,title:\"\\u0412\\u0445\\u043E\\u0434\",buttonText:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"Email\",type:\"email\",className:\"popup__input popup__input_type_login\",id:\"email\",placeholder:\"Email\",minLength:\"6\",maxLength:\"40\",required:true,value:email,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"Password\",type:\"password\",className:\"popup__input popup__input_type_login\",id:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",minLength:\"6\",maxLength:\"40\",required:true,value:password,onChange:handleChange})]})});}\n// CONCATENATED MODULE: ./src/components/Rigister.jsx\nfunction Rigister_Register(_ref){var onRegister=_ref.onRegister;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];function handleChange(e){var value=e.target.value;e.target.name==='Email'?setEmail(value):setPassword(value);}function handleSubmit(e){e.preventDefault();onRegister(password,email);console.log(password,email);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"register\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AuthPage,{formName:\"register\",title:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",onSubmit:handleSubmit,buttonText:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"Email\",type:\"email\",className:\"popup__input popup__input_type_login\",id:\"email\",placeholder:\"Email\",minLength:\"6\",maxLength:\"40\",required:true,value:email,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"Password\",type:\"password\",className:\"popup__input popup__input_type_login\",id:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",minLength:\"6\",maxLength:\"40\",required:true,value:password,onChange:handleChange})]})});}\n// CONCATENATED MODULE: ./src/utils/auth.jsx\nvar BASE_URL='https://api.mattzenn.nomoredomains.club';// const jwt = localStorage.getItem('token')\nvar handleResponse=function handleResponse(response){return response.ok?response.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(response.status));};var register=function register(password,email){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{// Authorization: `Bearer ${jwt}`,\n\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(handleResponse);};var authorize=function authorize(password,email){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{// Authorization: `Bearer ${jwt}`,\n\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(handleResponse);};var getContent=function getContent(token){console.log(\"\\u0442\\u043E\\u043A\\u0435\\u043D \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0438 \".concat(token));return fetch(\"\".concat(BASE_URL,\"/users/\"),{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(handleResponse);};var ApiUserInfo=function ApiUserInfo(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}}).then(handleResponse);};\n// CONCATENATED MODULE: ./src/components/InfoTooltip.jsx\nfunction InfoTooltip(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,title=_ref.title,img=_ref.img;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup \".concat(isOpen?'popup_opened':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container popup__overlay\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:img,alt:img,className:\"popup__tooltip\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"popup__title popup__title_type_tooltip\",children:title})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:onClose})]})});}\n// CONCATENATED MODULE: ./src/images/Success.svg\n/* harmony default export */ var Success = (__webpack_require__.p + \"static/media/Success.1b6082f8.svg\");\n// CONCATENATED MODULE: ./src/images/unSuccess.svg\n/* harmony default export */ var unSuccess = (__webpack_require__.p + \"static/media/unSuccess.df8eddf6.svg\");\n// CONCATENATED MODULE: ./src/components/App.jsx\nfunction App(){var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),isEditProfilePopupOpen=_React$useState2[0],setEditProfilePopupOpen=_React$useState2[1];var _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),isAddPlacePopupOpen=_React$useState4[0],setAddPlacePopupOpen=_React$useState4[1];var _React$useState5=react_default.a.useState(false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),isEditAvatarPopupOpen=_React$useState6[0],setEditAvatarPopupOpen=_React$useState6[1];var _React$useState7=react_default.a.useState(null),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),selectedCard=_React$useState8[0],setSelectedCard=_React$useState8[1];var _React$useState9=react_default.a.useState({}),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),currentUser=_React$useState10[0],setCurrentUser=_React$useState10[1];var _React$useState11=react_default.a.useState([]),_React$useState12=Object(slicedToArray[\"a\" /* default */])(_React$useState11,2),cards=_React$useState12[0],setCards=_React$useState12[1];var _React$useState13=react_default.a.useState(false),_React$useState14=Object(slicedToArray[\"a\" /* default */])(_React$useState13,2),loggedIn=_React$useState14[0],setLoggedIn=_React$useState14[1];var history=Object(react_router[\"g\" /* useHistory */])();var _React$useState15=react_default.a.useState(''),_React$useState16=Object(slicedToArray[\"a\" /* default */])(_React$useState15,2),email=_React$useState16[0],setEmail=_React$useState16[1];var _React$useState17=react_default.a.useState(false),_React$useState18=Object(slicedToArray[\"a\" /* default */])(_React$useState17,2),isInfoTooltipOpen=_React$useState18[0],setIsInfoTooltipOpen=_React$useState18[1];var _React$useState19=react_default.a.useState({img:'',text:''}),_React$useState20=Object(slicedToArray[\"a\" /* default */])(_React$useState19,2),message=_React$useState20[0],setMessage=_React$useState20[1];var _React$useState21=react_default.a.useState(''),_React$useState22=Object(slicedToArray[\"a\" /* default */])(_React$useState21,2),token=_React$useState22[0],setToken=_React$useState22[1];react_default.a.useEffect(function(){if(loggedIn){var jwt=localStorage.getItem('token');console.log(\"\\u044D\\u0442\\u043E\\u0442 \\u0442\\u043E\\u043A\\u0435\\u043D \\u043D\\u0430 \\u0444\\u0440\\u043E\\u043D\\u0442\\u0435 \\u044F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u044E \\u043D\\u0430 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441 \\u0441 \\u0444\\u0440\\u043E\\u043D\\u0442\\u0430 \\u043F\\u043E\\u0441\\u043B\\u0435 \\u043B\\u043E\\u0433\\u0438\\u043D\\u0430 \".concat(jwt));ApiUserInfo(jwt).then(function(user){setCurrentUser(user.data);console.log(user.data);}).catch(function(err){return console.log(err);});}},[loggedIn]);react_default.a.useEffect(function(){if(loggedIn){utils_api.getCards().then(function(cards){console.log(cards);setCards(cards.reverse());}).catch(function(err){return console.log(err);});}},[loggedIn]);function onUpdateUser(userData){utils_api.setApiUserInfo(userData).then(function(user){setCurrentUser(user.data);closeAllPopups();}).catch(function(err){return console.log(err);});}function onUpdateAvatar(userData){utils_api.setAvatar(userData).then(function(user){setCurrentUser(user.data);closeAllPopups();}).catch(function(err){return console.log(err);});}function handleAddPlaceSubmit(cardData){utils_api.postCards(cardData).then(function(newCard){console.log(newCard);console.log(cards.data);console.log(cards);setCards([newCard].concat(Object(toConsumableArray[\"a\" /* default */])(cards)));closeAllPopups();}).catch(function(err){return console.log(err);});}function handleCardLike(card){// Снова проверяем, есть ли уже лайк на этой карточке\nvar isLiked=card.likes.some(function(id){return id===currentUser._id;});// Отправляем запрос в API и получаем обновлённые данные карточки\nutils_api.changeLikeCardStatus(card._id,!isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){return console.log(err);});}function handleCardDelete(card){utils_api.deleteCard(card._id).then(function(){setCards(cards.filter(function(item){return item!==card;}));}).catch(function(err){return console.log(err);});}function handleEditAvatarClick(){setEditAvatarPopupOpen(true);}function handleEditProfileClick(){setEditProfilePopupOpen(true);}function handleAddPlaceClick(){setAddPlacePopupOpen(true);}function onCardClick(card){setSelectedCard(card);}function closeAllPopups(){setEditAvatarPopupOpen(false);setEditProfilePopupOpen(false);setAddPlacePopupOpen(false);setSelectedCard(null);setIsInfoTooltipOpen(false);}react_default.a.useEffect(function(){var closeByEscape=function closeByEscape(e){if(e.key==='Escape'){closeAllPopups();}};document.addEventListener('keydown',closeByEscape);return function(){return document.removeEventListener('keydown',closeByEscape);};},[]);react_default.a.useEffect(function(){tokenCheck();},[]);function tokenCheck(){var jwt=localStorage.getItem('token');console.log(\"\\u0442\\u043E\\u0447\\u043D\\u043E \\u0442\\u043E\\u0447\\u043D\\u043E \\u0442\\u043E\\u0447\\u043D\\u043E \\u043E\\u043D? \".concat(jwt));if(jwt){getContent(jwt).then(function(res){setLoggedIn(true);setEmail(res.data.email);history.push('/');}).catch(function(err){return console.log(err);});}}// function tokenCheck() {\n//     const jwt = localStorage.getItem('token')\n//     console.log(jwt)\n//     if (jwt) {\n//         auth.getContent(jwt)\n//             .then((res) => {\n//                 setLoggedIn(true)\n//                 setEmail(res.data.email)\n//                 history.push('/')\n//             })\n//             .catch((err) => console.log(err))\n//     }\n// }\nfunction handleRegistration(password,email){register(password,email).then(function(result){setEmail(result.data.email);setMessage({img:Success,text:'Вы успешно зарегистрировались!'});history.push('/sign-in');}).catch(function(){return setMessage({img:unSuccess,text:'Что-то пошло не так! Попробуйте ещё раз.'});}).finally(function(){return setIsInfoTooltipOpen(true);});}function handleAuth(password,email){authorize(password,email).then(function(result){console.log(\"\\u044D\\u0442\\u043E\\u043E\\u043E\\u043E\\u043E\\u043E\\u043E\\u043E \\u043E\\u043D\\u043D\\u043D\\u043D\\u043D\\u043D\\u043D\\u043D \\u043D\\u0430 \\u0444\\u0440\\u043E\\u043D\\u0442\\u0435 \".concat(result.token));localStorage.setItem('token',result.token);var ttt=localStorage.getItem('token');console.log(ttt);setLoggedIn(true);history.push('/');setEmail(email);}).catch(function(err){return console.log(err);});}function onSignOut(){localStorage.removeItem('token');setToken('');var jwt=localStorage.getItem('token');console.log(jwt);setLoggedIn(false);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{loggedIn:loggedIn,email:email,onSignOut:onSignOut}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ProtectedRoute,{exact:true,path:\"/\",loggedIn:loggedIn,component:components_Main,onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onCardClick:onCardClick,handleCardLike:handleCardLike,handleCardDelete:handleCardDelete,cards:cards}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/sign-in\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Rigister_Register,{isOpen:isEditProfilePopupOpen,onRegister:handleRegistration,isInfoTooltipOpen:isInfoTooltipOpen})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/sign-up\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Register,{isOpen:isEditProfilePopupOpen,onAuth:handleAuth})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Footer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoTooltip,{name:\"tooltip\",isOpen:isInfoTooltipOpen,onClose:closeAllPopups,title:message.text,img:message.img}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:onUpdateUser}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ImagePopup,{card:selectedCard,onClose:closeAllPopups}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:onUpdateAvatar})]})});}/* harmony default export */ var components_App = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 37)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.jsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{basename:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[36,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/index.css","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/images/logo.svg","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Info.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Header.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Footer.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/contexts/CurrentUserContext.js","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Card.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Main.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/ImagePopup.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/utils/api.js","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/PopupWithForm.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/EditAvatarPopup.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/AddPlacePopup.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/ProtectedRoute.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/AuthPage.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Login.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Rigister.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/utils/auth.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/InfoTooltip.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/images/Success.svg","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/images/unSuccess.svg","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/App.jsx","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/reportWebVitals.js","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/index.jsx"],"names":["Info","loggedIn","email","onSignOut","Header","location","useLocation","logo","pathname","withRouter","Footer","nowyear","Date","getFullYear","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","id","cardLikeButtonClassName","handleCardClick","onCardClick","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","avatar","about","map","ImagePopup","onClose","Api","config","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","newdata","body","JSON","stringify","data","jwt","localStorage","getItem","console","log","api","Authorization","PopupWithForm","isOpen","onSubmit","title","children","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","AddPlacePopup","setLink","handleLinkChange","ProtectedRoute","Component","component","AuthPage","formName","buttonText","Register","onAuth","setEmail","password","setPassword","handleChange","onRegister","BASE_URL","handleResponse","response","register","authorize","getContent","token","ApiUserInfo","InfoTooltip","img","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","history","useHistory","isInfoTooltipOpen","setIsInfoTooltipOpen","text","message","setMessage","setToken","auth","user","catch","err","getCards","reverse","userData","setApiUserInfo","closeAllPopups","setAvatar","handleAddPlaceSubmit","cardData","postCards","newCard","changeLikeCardStatus","state","c","deleteCard","filter","item","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","closeByEscape","key","document","addEventListener","removeEventListener","tokenCheck","push","handleRegistration","result","Success","unSuccess","finally","handleAuth","setItem","ttt","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link } from \"react-router-dom\"\n\n export default function Info({ loggedIn, email, onSignOut }) {\n   return (\n     <div className='header__info'>\n       <p className='header__email'>{email}</p>\n       <Link\n         to='sign-up'\n         className={`header__link ${loggedIn && 'header__link_state_active'}`}\n         onClick={onSignOut}\n       >\n         Выйти\n       </Link>\n     </div>\n   )\n } ","import logo from '../images/logo.svg';\nimport Info from \"./Info\"\nimport React from 'react';\nimport { Link, withRouter, useLocation } from 'react-router-dom';\n\nfunction Header({ loggedIn, email, onSignOut }) {\n    const location = useLocation()\n\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип\"></img>\n      {\n        loggedIn ?\n        <Info email={email} loggedIn={loggedIn} onSignOut={onSignOut} /> :\n        (<>\n          {\n            location.pathname === '/sign-up' ? \n            <Link className='header__link' to='/sign-in'>Регистрация</Link> :\n            <Link className='header__link' to='/sign-up'>Войти</Link>\n          }\n        </>)\n      }\n    </header>\n  )\n}\n\nexport default withRouter(Header)","import { useLocation } from 'react-router-dom';\n\nfunction Footer() {\n    const location = useLocation()\n\n    const nowyear = new Date().getFullYear()\n\n    return (\n        <>\n      {location.pathname === '/sign-up' ?(<></>) : location.pathname === '/sign-in' ?(<></>):\n           (<footer className=\"footer\">\n              <p className=\"footer__copyright\">&copy; {nowyear} Mesto Russia</p>\n            </footer>)\n      }\n    </>\n    )\n}\n\nexport default Footer","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n\n    const currentUser = React.useContext(CurrentUserContext)\n    // Определяем, являемся ли мы владельцем текущей карточки\n    const isOwn = props.card.owner === currentUser._id;\n\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n        `elements__remove-button ${isOwn ? '' : 'elements__remove-button_state_hidden'}`\n    );\n\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = props.card.likes.some((id) => id === currentUser._id);\n\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = (\n        `elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\n    );\n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(props.card)\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card)\n    }\n\n    return (\n        <li className=\"elements__card\">\n            <img className=\"elements__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick}></img>\n            <div className=\"elements__container\">\n                <h2 className=\"elements__title\">{props.card.name}</h2>\n                <div className=\"elements__like\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                    <span className=\"elements__like-count\">{props.card.likes.length}</span>\n                </div>\n            </div>\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"></button>\n        </li>\n    )\n}\n\nexport default Card","import React from 'react'\n\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, handleCardLike, handleCardDelete, cards }) {\n\n    const currentUser = React.useContext(CurrentUserContext)\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar-wrapper\">\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\"></img>\n                    <button type=\"button\" className=\"profile__avatar-button\" onClick={onEditAvatar}></button>\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__container\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n                    </div>\n                    <h2 className=\"profile__about\">{currentUser.about}</h2>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n            </section>\n            <section className=\"cards\">\n                <ul className=\"elements\">\n                    {cards.map((card) => (\n                        <Card\n                            key={card._id}\n                            card={card}\n                            onCardClick={onCardClick}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleCardDelete}\n                        />\n                    )\n                    )}\n                </ul>\n            </section>\n        </main>\n    )\n}\n\nexport default Main\n","function ImagePopup(props) {\n\n    return (\n        <div className={`popup popup_zoom-image ${props.card ? 'popup_opened' : ''}`}>\n            <div className=\"popup__figure-container popup__overlay\">\n                <figure className=\"popup__figure\">\n                    <img className=\"popup__image\"  src={props.card?.link} alt={props.card?.name} />\n                    <figcaption className=\"popup__caption\">{props.card ? props.card.name : ''}</figcaption>\n                </figure>\n                <button type=\"button\" className=\"popup__close-button popup__close-button_zoom-image\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup","class Api {\n    constructor(config) {\n        this._url = config.url\n        this._headers = config.headers\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getCards() {\n        return fetch(this._url + '/cards', {\n            method: 'GET',\n            headers: this._headers\n        })\n            .then(this._checkResponse);\n    }\n\n    getApiUserInfo() {\n        return fetch(this._url + '/users/me', {\n            method: 'GET',\n            headers: this._headers\n        })\n            .then(this._checkResponse);\n    }\n\n    setApiUserInfo(newdata) {\n        return fetch(this._url + '/users/me', {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: newdata.name,\n                about: newdata.about\n            })\n        })\n            .then(this._checkResponse);\n    }\n\n    postCards(data) {\n        return fetch(this._url + '/cards', {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._checkResponse);\n    }\n\n    deleteCard(data) {\n        return fetch(this._url + `/cards/${data}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(this._checkResponse);\n    }\n\n    setAvatar(data) {\n        return fetch(this._url + '/users/me/avatar', {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        })\n            .then(this._checkResponse);\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        return fetch(this._url + `/cards/${id}/likes`, {\n            method: `${isLiked ? 'PUT' : 'DELETE'}`,\n            headers: this._headers\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteLike(data) {\n        return fetch(this._url + `/cards/likes/${data}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(this._checkResponse);\n    }\n}\n\nconst jwt = localStorage.getItem('token')\n\nconsole.log(`Это api ${jwt}`)\n\nconst api = new Api({\n    url: 'https://api.mattzenn.nomoredomains.club',\n    headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n    }\n})\n\nexport default api","function PopupWithForm(props) {\n\n    return (\n        <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit}>\n                <h2 className=\"popup__title\">{props.title}</h2>\n                    {props.children}\n                    <button type=\"submit\" className=\"popup__button\">Сохранить</button>\n                </form>\n                <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithForm","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\n\nfunction EditProfilePopup({ isOpen, onUpdateUser, onClose }) {\n    const [name, setName] = React.useState('')\n    const [description, setDescription] = React.useState('')\n\n    // Подписка на контекст\n    const currentUser = React.useContext(CurrentUserContext)\n\n    // После загрузки текущего пользователя из API\n    // его данные будут использованы в управляемых компонентах.\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onUpdateUser({\n            name: name,\n            about: description,\n        })\n\n    }\n\n    return (\n        <PopupWithForm name='profile-edit' title='Редактировать профиль' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <input id=\"userName\" name=\"userName\" className=\"popup__input popup__input_user_name\" type=\"text\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required value={name || ''}  onChange={handleNameChange}></input>\n            <span id=\"userName-error\" className=\"popup__input-error\"></span>\n            <input id=\"userAbout\" name=\"userAbout\" className=\"popup__input popup__input_user_description\" type=\"text\" placeholder=\"Профессия\" minLength=\"2\" maxLength=\"200\" required value={description || ''}  onChange={handleDescriptionChange}></input>\n            <span id=\"userAbout-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditProfilePopup","import React, { useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onUpdateAvatar, onClose }) {\n\n    const avatarRef = React.useRef('')\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onUpdateAvatar({\n            avatar: avatarRef.current.value\n        })\n    }\n\n    useEffect(() => {\n        avatarRef.current.value = ''\n      }, [isOpen])\n\n\n    return (\n        <PopupWithForm name='avatar-edit' title='Обновить аватар' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <input id=\"avatar-link\" name=\"userAvatar\" className=\"popup__input popup__input_place_description\" type=\"url\" placeholder=\"Ссылка на картинку\" minLength=\"2\" maxLength=\"100000\" required ref={avatarRef}></input>\n            <span id=\"avatar-link-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditAvatarPopup","import React, { useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\n\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\n    const [name, setName] = React.useState('')\n    const [link, setLink] = React.useState('')\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onAddPlace({\n            name: name,\n            link: link,\n        })\n    }\n\n    useEffect(() => {\n        setName('')\n        setLink('')\n    }, [isOpen])\n\n    return (\n        <PopupWithForm name='card-add' title='Новое место' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} isModal={true}>\n            <input id=\"placeName\" name=\"name\" className=\"popup__input popup__input_place_name\" type=\"text\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" value={name} required onChange={handleNameChange}></input>\n            <span id=\"placeName-error\" className=\"popup__input-error\"></span>\n            <input id=\"link\" name=\"link\" className=\"popup__input popup__input_place_description\" type=\"url\" placeholder=\"Ссылка на картинку\" minLength=\"2\" maxLength=\"100000\" value={link} required onChange={handleLinkChange}></input>\n            <span id=\"link-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n\n\n}\n\nexport default AddPlacePopup","import { Route, Redirect } from \"react-router-dom\"\n\n export default function ProtectedRoute( { component: Component, ...props } ) {\n   return (\n     <Route>\n       {\n         () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />)\n       }\n     </Route>\n   )\n }","import React from 'react'\n import { Link } from 'react-router-dom';\n\n export default function AuthPage (\n {children, formName, onSubmit, buttonText, title,}) {\n   return (\n     <div className='auth-page'>\n         <form className='auth-page__form' name={formName} onSubmit={onSubmit}>\n           <h2 className='auth-page__title'>{title}</h2>\n             {children}\n           <button type=\"submit\" className='auth-page__button'>{buttonText}</button>\n           {formName === 'register' && <Link className='auth-page__link' to='/sign-up'>Уже зарегистрированы? Войти</Link>}\n         </form>\n     </div>\n   )\n } ","import React from 'react'\nimport AuthPage from './AuthPage'\n\nexport default function Register({ onAuth }) {\n\n  const [email, setEmail] = React.useState('')\n  const [password, setPassword] = React.useState('')\n\n  function handleChange(e) {\n    const {value} = e.target\n    e.target.name === 'Email' ? setEmail(value) : setPassword(value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAuth(password, email)\n    console.log(password, email)\n  }\n\n  return (\n    <div className='login'>\n      <AuthPage formName='login' onSubmit={handleSubmit} title='Вход' buttonText='Войти'>\n        <input name=\"Email\" type=\"email\" className=\"popup__input popup__input_type_login\" id=\"email\" placeholder=\"Email\" minLength=\"6\" maxLength=\"40\" required value={email} onChange={handleChange}/>\n        <input name=\"Password\" type=\"password\" className=\"popup__input popup__input_type_login\" id=\"password\" placeholder=\"Пароль\" minLength=\"6\" maxLength=\"40\" required value={password} onChange={handleChange}/>\n      </AuthPage>\n    </div>\n  )\n}","import React, { useState } from 'react'\nimport AuthPage from './AuthPage'\n\nexport default function Register({ onRegister }) {\n\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n \n    function handleChange(e) {\n      const {value} = e.target\n      e.target.name === 'Email' ? setEmail(value) : setPassword(value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onRegister(password, email)\n        console.log(password, email)\n    }\n \n    return (\n      <div className='register'>\n        <AuthPage formName='register' title='Регистрация' onSubmit={handleSubmit} buttonText='Зарегистрироваться'>\n          <input name=\"Email\" type=\"email\" className=\"popup__input popup__input_type_login\" id=\"email\" placeholder=\"Email\" minLength=\"6\" maxLength=\"40\" required value={email} onChange={handleChange}/>\n          <input name=\"Password\" type=\"password\" className=\"popup__input popup__input_type_login\" id=\"password\" placeholder=\"Пароль\" minLength=\"6\" maxLength=\"40\" required value={password} onChange={handleChange}/>\n        </AuthPage>\n      </div>\n    )\n  } ","export const BASE_URL = 'https://api.mattzenn.nomoredomains.club'\n// const jwt = localStorage.getItem('token')\n\nconst handleResponse = response => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`)\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n\n        headers: {\n            // Authorization: `Bearer ${jwt}`,\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ password: password, email: email })\n    })\n        .then(handleResponse)\n}\n\nexport const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n\n        headers: {\n            // Authorization: `Bearer ${jwt}`,\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ password: password, email: email })\n    })\n        .then(handleResponse)\n\n}\n\nexport const getContent = (token) => {\n    console.log(`токен для проверки ${token}`)\n    return fetch(`${BASE_URL}/users/`, {\n        method: 'GET',\n\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    })\n        .then(handleResponse)\n}\n\nexport const ApiUserInfo = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n\n        headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n        },\n    })\n        .then(handleResponse)\n\n}","export default function InfoTooltip({ isOpen, onClose, title, img }) {\n   return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\n    <div className=\"popup__container popup__overlay\">\n        <div className='popup__wrapper'>\n            <img src={img} alt={img} className='popup__tooltip' />\n            <h2 className=\"popup__title popup__title_type_tooltip\">{title}</h2>\n        </div>\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n    </div>  \n  </div>\n   )\n}","export default __webpack_public_path__ + \"static/media/Success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unSuccess.df8eddf6.svg\";","\nimport React from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport ImagePopup from './ImagePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/api'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport ProtectedRoute from './ProtectedRoute'\nimport Login from './Login'\nimport Register from './Rigister'\nimport * as auth from '../utils/auth'\nimport InfoTooltip from './InfoTooltip'\nimport Success from '../images/Success.svg'\nimport unSuccess from '../images/unSuccess.svg'\n\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n    const [selectedCard, setSelectedCard] = React.useState(null)\n    const [currentUser, setCurrentUser] = React.useState({})\n    const [cards, setCards] = React.useState([])\n    const [loggedIn, setLoggedIn] = React.useState(false)\n    const history = useHistory()\n    const [email, setEmail] = React.useState('')\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false)\n    const [message, setMessage] = React.useState({ img: '', text: '' })\n    const [token, setToken] = React.useState('')\n\n    React.useEffect(() => {\n        if (loggedIn) {\n            const jwt = localStorage.getItem('token')\n            console.log(`этот токен на фронте я отправляю на запрос с фронта после логина ${jwt}`)\n\n            auth.ApiUserInfo(jwt)\n                .then((user) => {\n                    setCurrentUser(user.data)\n                    console.log(user.data)\n                })\n                .catch((err) => console.log(err))\n        }\n\n    }, [loggedIn])\n\n    React.useEffect(() => {\n        if (loggedIn) {\n            api.getCards()\n                .then((cards) => {\n                    console.log(cards);\n                    setCards(cards.reverse())\n                })\n                .catch((err) => console.log(err))\n        }\n    }, [loggedIn])\n\n    function onUpdateUser(userData) {\n        api.setApiUserInfo(userData)\n            .then((user) => {\n                setCurrentUser(user.data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function onUpdateAvatar(userData) {\n        api.setAvatar(userData)\n            .then((user) => {\n                setCurrentUser(user.data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleAddPlaceSubmit(cardData) {\n        api.postCards(cardData)\n            .then((newCard) => {\n                console.log(newCard);\n                console.log(cards.data);\n                console.log(cards);\n                setCards([newCard, ...cards]);\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(id => id === currentUser._id);\n\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                setCards(cards.filter((item) => item !== card))\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true)\n    }\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true)\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true)\n    }\n\n    function onCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function closeAllPopups() {\n        setEditAvatarPopupOpen(false)\n        setEditProfilePopupOpen(false)\n        setAddPlacePopupOpen(false)\n        setSelectedCard(null)\n        setIsInfoTooltipOpen(false)\n    }\n\n    React.useEffect(() => {\n        const closeByEscape = (e) => {\n            if (e.key === 'Escape') {\n                closeAllPopups();\n            }\n        }\n\n        document.addEventListener('keydown', closeByEscape)\n\n        return () => document.removeEventListener('keydown', closeByEscape)\n    }, [])\n\n\n    React.useEffect(() => {\n        tokenCheck()\n    }, [])\n\n    function tokenCheck() {\n        const jwt = localStorage.getItem('token')\n        console.log(`точно точно точно он? ${jwt}`)\n\n        if (jwt) {\n            auth.getContent(jwt)\n                .then((res) => {\n                    setLoggedIn(true)\n                    setEmail(res.data.email)\n                    history.push('/')\n                })\n                .catch((err) => console.log(err))\n        }\n    }\n\n    // function tokenCheck() {\n    //     const jwt = localStorage.getItem('token')\n    //     console.log(jwt)\n\n    //     if (jwt) {\n    //         auth.getContent(jwt)\n    //             .then((res) => {\n    //                 setLoggedIn(true)\n    //                 setEmail(res.data.email)\n    //                 history.push('/')\n    //             })\n    //             .catch((err) => console.log(err))\n    //     }\n    // }\n\n    function handleRegistration(password, email) {\n        auth.register(password, email)\n            .then((result) => {\n                setEmail(result.data.email)\n                setMessage({ img: Success, text: 'Вы успешно зарегистрировались!' })\n                history.push('/sign-in')\n            })\n            .catch(() => setMessage({ img: unSuccess, text: 'Что-то пошло не так! Попробуйте ещё раз.' }))\n            .finally(() => setIsInfoTooltipOpen(true))\n    }\n\n    function handleAuth(password, email) {\n        auth.authorize(password, email)\n            .then((result) => {\n                console.log(`этоооооооо онннннннн на фронте ${result.token}`)\n\n                localStorage.setItem('token', result.token)\n                const ttt = localStorage.getItem('token');\n\n                console.log(ttt);\n                setLoggedIn(true)\n                history.push('/')\n                setEmail(email)\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function onSignOut() {\n        localStorage.removeItem('token')\n        setToken('')\n        const jwt = localStorage.getItem('token');\n        console.log(jwt)\n        setLoggedIn(false)\n\n    }\n\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header loggedIn={loggedIn} email={email} onSignOut={onSignOut} />\n                <Switch>\n                    <ProtectedRoute exact path='/' loggedIn={loggedIn} component={Main} onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={onCardClick} handleCardLike={handleCardLike} handleCardDelete={handleCardDelete} cards={cards} />\n                    <Route path='/sign-in'>\n                        <Register isOpen={isEditProfilePopupOpen} onRegister={handleRegistration} isInfoTooltipOpen={isInfoTooltipOpen} />\n                    </Route>\n                    <Route path='/sign-up'>\n                        <Login isOpen={isEditProfilePopupOpen} onAuth={handleAuth} />\n                    </Route>\n                </Switch>\n                <Footer />\n\n                <InfoTooltip name='tooltip' isOpen={isInfoTooltipOpen} onClose={closeAllPopups} title={message.text} img={message.img} />\n\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={onUpdateUser} />\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={onUpdateAvatar} />\n            </div>\n        </CurrentUserContext.Provider >\n    );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/'>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}