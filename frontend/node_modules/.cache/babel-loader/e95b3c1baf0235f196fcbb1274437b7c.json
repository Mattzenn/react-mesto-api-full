{"ast":null,"code":"import _slicedToArray from\"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onUpdateUser=_ref.onUpdateUser,onClose=_ref.onClose;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];// Подписка на контекст\nvar currentUser=React.useContext(CurrentUserContext);// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nReact.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile-edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"userName\",name:\"userName\",className:\"popup__input popup__input_user_name\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,value:name||'',onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{id:\"userName-error\",className:\"popup__input-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"userAbout\",name:\"userAbout\",className:\"popup__input popup__input_user_description\",type:\"text\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",minLength:\"2\",maxLength:\"200\",required:true,value:description||'',onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{id:\"userAbout-error\",className:\"popup__input-error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.jsx"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onUpdateUser","onClose","useState","name","setName","description","setDescription","currentUser","useContext","useEffect","about","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault"],"mappings":"mLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAGA,QAASC,CAAAA,gBAAT,MAA6D,IAAjCC,CAAAA,MAAiC,MAAjCA,MAAiC,CAAzBC,YAAyB,MAAzBA,YAAyB,CAAXC,OAAW,MAAXA,OAAW,CACzD,oBAAwBN,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCT,KAAK,CAACO,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEA;AACA,GAAMC,CAAAA,WAAW,CAAGZ,KAAK,CAACa,UAAN,CAAiBX,kBAAjB,CAApB,CAEA;AACA;AACAF,KAAK,CAACc,SAAN,CAAgB,UAAM,CAClBL,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACG,KAAb,CAAd,CACH,CAHD,CAGG,CAACH,WAAD,CAAcR,MAAd,CAHH,EAKA,QAASY,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CACzBR,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAChCN,cAAc,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,CAED,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACrBA,CAAC,CAACK,cAAF,GACAjB,YAAY,CAAC,CACTG,IAAI,CAAEA,IADG,CAETO,KAAK,CAAEL,WAFE,CAAD,CAAZ,CAKH,CAED,mBACI,MAAC,aAAD,EAAe,IAAI,CAAC,cAApB,CAAmC,KAAK,CAAC,2HAAzC,CAAiE,MAAM,CAAEN,MAAzE,CAAiF,OAAO,CAAEE,OAA1F,CAAmG,QAAQ,CAAEe,YAA7G,wBACI,cAAO,EAAE,CAAC,UAAV,CAAqB,IAAI,CAAC,UAA1B,CAAqC,SAAS,CAAC,qCAA/C,CAAqF,IAAI,CAAC,MAA1F,CAAiG,WAAW,CAAC,oBAA7G,CAAmH,SAAS,CAAC,GAA7H,CAAiI,SAAS,CAAC,IAA3I,CAAgJ,QAAQ,KAAxJ,CAAyJ,KAAK,CAAEb,IAAI,EAAI,EAAxK,CAA6K,QAAQ,CAAEQ,gBAAvL,EADJ,cAEI,aAAM,EAAE,CAAC,gBAAT,CAA0B,SAAS,CAAC,oBAApC,EAFJ,cAGI,cAAO,EAAE,CAAC,WAAV,CAAsB,IAAI,CAAC,WAA3B,CAAuC,SAAS,CAAC,4CAAjD,CAA8F,IAAI,CAAC,MAAnG,CAA0G,WAAW,CAAC,wDAAtH,CAAkI,SAAS,CAAC,GAA5I,CAAgJ,SAAS,CAAC,KAA1J,CAAgK,QAAQ,KAAxK,CAAyK,KAAK,CAAEN,WAAW,EAAI,EAA/L,CAAoM,QAAQ,CAAEU,uBAA9M,EAHJ,cAII,aAAM,EAAE,CAAC,iBAAT,CAA2B,SAAS,CAAC,oBAArC,EAJJ,GADJ,CASH,CAED,cAAejB,CAAAA,gBAAf","sourcesContent":["import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\n\nfunction EditProfilePopup({ isOpen, onUpdateUser, onClose }) {\n    const [name, setName] = React.useState('')\n    const [description, setDescription] = React.useState('')\n\n    // Подписка на контекст\n    const currentUser = React.useContext(CurrentUserContext)\n\n    // После загрузки текущего пользователя из API\n    // его данные будут использованы в управляемых компонентах.\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onUpdateUser({\n            name: name,\n            about: description,\n        })\n\n    }\n\n    return (\n        <PopupWithForm name='profile-edit' title='Редактировать профиль' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <input id=\"userName\" name=\"userName\" className=\"popup__input popup__input_user_name\" type=\"text\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required value={name || ''}  onChange={handleNameChange}></input>\n            <span id=\"userName-error\" className=\"popup__input-error\"></span>\n            <input id=\"userAbout\" name=\"userAbout\" className=\"popup__input popup__input_user_description\" type=\"text\" placeholder=\"Профессия\" minLength=\"2\" maxLength=\"200\" required value={description || ''}  onChange={handleDescriptionChange}></input>\n            <span id=\"userAbout-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditProfilePopup"]},"metadata":{},"sourceType":"module"}