[{"/Users/zeninmatvey/Desktop/dev/mesto-react/src/index.jsx":"1","/Users/zeninmatvey/Desktop/dev/mesto-react/src/reportWebVitals.js":"2","/Users/zeninmatvey/Desktop/dev/mesto-react/src/contexts/CurrentUserContext.js":"3","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/Header.js":"4","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/Footer.js":"5","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/Main.js":"6","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/ImagePopup.js":"7","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/Card.js":"8","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/App.js":"9","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/PopupWithForm.js":"10","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/EditAvatarPopup.js":"11","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/EditProfilePopup.js":"12","/Users/zeninmatvey/Desktop/dev/mesto-react/src/utils/api.js":"13","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/AddPlacePopup.js":"14","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/index.jsx":"15","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/reportWebVitals.js":"16","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/App.jsx":"17","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/contexts/CurrentUserContext.js":"18","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/utils/api.js":"19","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Footer.jsx":"20","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Header.jsx":"21","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Main.jsx":"22","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/AddPlacePopup.jsx":"23","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/PopupWithForm.jsx":"24","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/EditProfilePopup.jsx":"25","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/EditAvatarPopup.jsx":"26","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/ImagePopup.jsx":"27","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Card.jsx":"28","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/ProtectedRoute.jsx":"29","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Login.jsx":"30","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Rigister.jsx":"31","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/utils/auth.jsx":"32","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Info.jsx":"33","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/InfoTooltip.jsx":"34","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/AuthPage.jsx":"35","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/index.jsx":"36","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/reportWebVitals.js":"37","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/App.jsx":"38","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/contexts/CurrentUserContext.js":"39","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/utils/api.js":"40","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Footer.jsx":"41","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Header.jsx":"42","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/EditAvatarPopup.jsx":"43","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Main.jsx":"44","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/ImagePopup.jsx":"45","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/AddPlacePopup.jsx":"46","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Login.jsx":"47","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.jsx":"48","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Rigister.jsx":"49","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/ProtectedRoute.jsx":"50","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/InfoTooltip.jsx":"51","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/utils/auth.jsx":"52","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/AuthPage.jsx":"53","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/PopupWithForm.jsx":"54","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Info.jsx":"55","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Card.jsx":"56"},{"size":511,"mtime":1627408497409,"results":"57","hashOfConfig":"58"},{"size":362,"mtime":1627387755160,"results":"59","hashOfConfig":"58"},{"size":82,"mtime":1628685033079,"results":"60","hashOfConfig":"58"},{"size":238,"mtime":1628848088124,"results":"61","hashOfConfig":"58"},{"size":243,"mtime":1628848082391,"results":"62","hashOfConfig":"58"},{"size":1568,"mtime":1628848099219,"results":"63","hashOfConfig":"58"},{"size":721,"mtime":1628848093770,"results":"64","hashOfConfig":"58"},{"size":2088,"mtime":1628848066564,"results":"65","hashOfConfig":"58"},{"size":4160,"mtime":1628851560420,"results":"66","hashOfConfig":"58"},{"size":700,"mtime":1628934281023,"results":"67","hashOfConfig":"58"},{"size":844,"mtime":1628934268869,"results":"68","hashOfConfig":"58"},{"size":1943,"mtime":1628934274223,"results":"69","hashOfConfig":"58"},{"size":2504,"mtime":1628934286536,"results":"70","hashOfConfig":"58"},{"size":1348,"mtime":1628934261594,"results":"71","hashOfConfig":"58"},{"size":615,"mtime":1629974489543,"results":"72","hashOfConfig":"73"},{"size":362,"mtime":1627387755160,"results":"74","hashOfConfig":"73"},{"size":7269,"mtime":1630226082476,"results":"75","hashOfConfig":"73"},{"size":82,"mtime":1628685033079,"results":"76","hashOfConfig":"73"},{"size":2504,"mtime":1628934286536,"results":"77","hashOfConfig":"73"},{"size":459,"mtime":1630055867323,"results":"78","hashOfConfig":"73"},{"size":788,"mtime":1630054359621,"results":"79","hashOfConfig":"73"},{"size":1807,"mtime":1630226277983,"results":"80","hashOfConfig":"73"},{"size":1459,"mtime":1630225046698,"results":"81","hashOfConfig":"73"},{"size":652,"mtime":1630224827673,"results":"82","hashOfConfig":"73"},{"size":1947,"mtime":1630062229088,"results":"83","hashOfConfig":"73"},{"size":950,"mtime":1630062260699,"results":"84","hashOfConfig":"73"},{"size":687,"mtime":1630226133092,"results":"85","hashOfConfig":"73"},{"size":2088,"mtime":1629973673075,"results":"86","hashOfConfig":"73"},{"size":284,"mtime":1629975753080,"results":"87","hashOfConfig":"73"},{"size":1049,"mtime":1630136842489,"results":"88","hashOfConfig":"73"},{"size":1154,"mtime":1630136874777,"results":"89","hashOfConfig":"73"},{"size":1175,"mtime":1630224564788,"results":"90","hashOfConfig":"73"},{"size":408,"mtime":1629986310115,"results":"91","hashOfConfig":"73"},{"size":520,"mtime":1630224700402,"results":"92","hashOfConfig":"73"},{"size":635,"mtime":1630224840786,"results":"93","hashOfConfig":"73"},{"size":615,"mtime":1633607839470,"results":"94","hashOfConfig":"95"},{"size":362,"mtime":1633607839470,"results":"96","hashOfConfig":"95"},{"size":8682,"mtime":1633767565542,"results":"97","hashOfConfig":"95"},{"size":82,"mtime":1633607839454,"results":"98","hashOfConfig":"95"},{"size":2555,"mtime":1633866755698,"results":"99","hashOfConfig":"95"},{"size":459,"mtime":1633607839452,"results":"100","hashOfConfig":"95"},{"size":788,"mtime":1633607839452,"results":"101","hashOfConfig":"95"},{"size":950,"mtime":1633607839452,"results":"102","hashOfConfig":"95"},{"size":1801,"mtime":1633710819950,"results":"103","hashOfConfig":"95"},{"size":687,"mtime":1633607839452,"results":"104","hashOfConfig":"95"},{"size":1459,"mtime":1633607839451,"results":"105","hashOfConfig":"95"},{"size":1049,"mtime":1633607839453,"results":"106","hashOfConfig":"95"},{"size":1947,"mtime":1633607839452,"results":"107","hashOfConfig":"95"},{"size":1154,"mtime":1633607839454,"results":"108","hashOfConfig":"95"},{"size":284,"mtime":1633607839453,"results":"109","hashOfConfig":"95"},{"size":520,"mtime":1633607839453,"results":"110","hashOfConfig":"95"},{"size":1566,"mtime":1633866760890,"results":"111","hashOfConfig":"95"},{"size":635,"mtime":1633607839451,"results":"112","hashOfConfig":"95"},{"size":652,"mtime":1633607839453,"results":"113","hashOfConfig":"95"},{"size":408,"mtime":1633607839453,"results":"114","hashOfConfig":"95"},{"size":2076,"mtime":1633612451488,"results":"115","hashOfConfig":"95"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},"7dxnwd",{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},"kzu3oq",{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"6hwynt",{"filePath":"192","messages":"193","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"194","messages":"195","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"196"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"203","messages":"204","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"205","messages":"206","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"211","messages":"212","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"213","messages":"214","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"215","messages":"216","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"217","messages":"218","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"221","messages":"222","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"223","messages":"224","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"225","messages":"226","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"227","messages":"228","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"231","messages":"232","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/zeninmatvey/Desktop/dev/mesto-react/src/index.jsx",[],["233","234"],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/reportWebVitals.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/contexts/CurrentUserContext.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/Header.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/Footer.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/Main.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/ImagePopup.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/Card.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/App.js",["235"],"\nimport React from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/api'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n    const [selectedCard, setSelectedCard] = React.useState(null)\n    const [currentUser, setCurrentUser] = React.useState({})\n    const [cards, setCards] = React.useState([])\n\n    React.useEffect(() => {\n        api.getApiUserInfo().then((data) => {\n            setCurrentUser(data)\n        })\n            .catch((err) => console.log(err))\n    }, [])\n\n    React.useEffect(() => {\n        api.getCards()\n            .then((data) => {\n                setCards(data)\n            })\n            .catch((err) => console.log(err))\n    }, [])\n\n    function onUpdateUser(userData) {\n        api.setApiUserInfo(userData)\n            .then((data) => {\n                setCurrentUser(data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function onUpdateAvatar(userData) {\n        api.setAvatar(userData)\n            .then((data) => {\n                setCurrentUser(data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleAddPlaceSubmit(cardData) {\n        api.postCards(cardData)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        });\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                setCards(cards.filter((item) => item !== card))\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true)\n    }\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true)\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true)\n    }\n\n    function onCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function closeAllPopups() {\n        setEditAvatarPopupOpen(false)\n        setEditProfilePopupOpen(false)\n        setAddPlacePopupOpen(false)\n        setSelectedCard(null)\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header />\n                <Main onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={onCardClick} handleCardLike={handleCardLike} handleCardDelete={handleCardDelete} cards={cards} />\n                <Footer />\n\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={onUpdateUser} />\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={onUpdateAvatar} />\n            </div>\n        </CurrentUserContext.Provider >\n    );\n}\n\nexport default App;","/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/PopupWithForm.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/EditAvatarPopup.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/EditProfilePopup.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/utils/api.js",[],"/Users/zeninmatvey/Desktop/dev/mesto-react/src/components/AddPlacePopup.js",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/index.jsx",[],["236","237"],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/reportWebVitals.js",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/App.jsx",["238"],"\nimport React from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport ImagePopup from './ImagePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/api'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport ProtectedRoute from './ProtectedRoute'\nimport Login from './Login'\nimport Register from './Rigister'\nimport * as auth from '../utils/auth'\nimport InfoTooltip from './InfoTooltip'\nimport Success from '../images/Success.svg'\nimport unSuccess from '../images/unSuccess.svg'\n\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n    const [selectedCard, setSelectedCard] = React.useState(null)\n    const [currentUser, setCurrentUser] = React.useState({})\n    const [cards, setCards] = React.useState([])\n    const [loggedIn, setLoggedIn] = React.useState(false)\n    const history = useHistory()\n    const [email, setEmail] = React.useState('')\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false)\n    const [message, setMessage] = React.useState({ img: '', text: '' })\n\n    React.useEffect(() => {\n        api.getApiUserInfo().then((data) => {\n            setCurrentUser(data)\n        })\n            .catch((err) => console.log(err))\n    }, [])\n\n    React.useEffect(() => {\n        api.getCards()\n            .then((data) => {\n                setCards(data)\n            })\n            .catch((err) => console.log(err))\n    }, [])\n\n    function onUpdateUser(userData) {\n        api.setApiUserInfo(userData)\n            .then((data) => {\n                setCurrentUser(data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function onUpdateAvatar(userData) {\n        api.setAvatar(userData)\n            .then((data) => {\n                setCurrentUser(data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleAddPlaceSubmit(cardData) {\n        api.postCards(cardData)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => console.log(err))\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                setCards(cards.filter((item) => item !== card))\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true)\n    }\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true)\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true)\n    }\n\n    function onCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function closeAllPopups() {\n        setEditAvatarPopupOpen(false)\n        setEditProfilePopupOpen(false)\n        setAddPlacePopupOpen(false)\n        setSelectedCard(null)\n        setIsInfoTooltipOpen(false)\n    }\n\n    React.useEffect(() => {\n        const closeByEscape = (e) => {\n          if (e.key === 'Escape') {\n            closeAllPopups();\n          }\n        }\n  \n        document.addEventListener('keydown', closeByEscape)\n        \n        return () => document.removeEventListener('keydown', closeByEscape)\n    }, [])\n  \n\n    React.useEffect(() => {\n        tokenCheck()\n    }, [])\n   \n    function tokenCheck() {\n        const jwt = localStorage.getItem('jwt')\n   \n        if(jwt) {\n          auth.checkToken(jwt)\n            .then((res) => {\n              if(res) {\n                setLoggedIn(true)\n                setEmail(res.data.email)\n                history.push('/')\n              }\n            })\n            .catch((err) => console.log(err))\n        }\n      }\n\n    function handleRegistration(password, email) {\n        auth.register(password, email)\n          .then((result) => {\n            setEmail(result.data.email)\n            setMessage({ img: Success, text: 'Вы успешно зарегистрировались!' })\n            history.push('/sign-in')\n          })\n          .catch(() => setMessage({ img: unSuccess, text: 'Что-то пошло не так! Попробуйте ещё раз.' }))\n          .finally(() => setIsInfoTooltipOpen(true))\n        }\n    \n        function handleAuth(password, email) {\n            auth.authorize(password, email)\n              .then((data) => {\n                setLoggedIn(true)\n                localStorage.setItem('jwt', data.token)\n                history.push('/')\n                setEmail(email)\n              })\n              .catch((err) => console.log(err))\n            }\n    \n      function onSignOut() {\n        localStorage.removeItem('jwt')\n        setLoggedIn(false)\n      }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header loggedIn={loggedIn} email={email} onSignOut={onSignOut}/>\n                <Switch>\n                    <ProtectedRoute exact path='/' loggedIn={loggedIn} component={Main} onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={onCardClick} handleCardLike={handleCardLike} handleCardDelete={handleCardDelete} cards={cards}/>\n                    <Route path='/sign-in'>\n                        <Register isOpen={isEditProfilePopupOpen} onRegister={handleRegistration} isInfoTooltipOpen={isInfoTooltipOpen}/>\n                    </Route>\n                    <Route path='/sign-up'>\n                        <Login isOpen={isEditProfilePopupOpen} onAuth={handleAuth}/>\n                    </Route>\n                </Switch>\n                <Footer />\n\n                <InfoTooltip name='tooltip' isOpen={isInfoTooltipOpen} onClose={closeAllPopups} title={message.text} img={message.img}/>\n\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={onUpdateUser} />\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={onUpdateAvatar} />\n            </div>\n        </CurrentUserContext.Provider >\n    );\n}\n\nexport default App;","/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/contexts/CurrentUserContext.js",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/utils/api.js",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Footer.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Header.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Main.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/AddPlacePopup.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/PopupWithForm.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/EditProfilePopup.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/EditAvatarPopup.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/ImagePopup.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Card.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/ProtectedRoute.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Login.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Rigister.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/utils/auth.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/Info.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/InfoTooltip.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-auth/src/components/AuthPage.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/index.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/reportWebVitals.js",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/App.jsx",["239","240"],"\nimport React from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport ImagePopup from './ImagePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/api'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport ProtectedRoute from './ProtectedRoute'\nimport Login from './Login'\nimport Register from './Rigister'\nimport * as auth from '../utils/auth'\nimport InfoTooltip from './InfoTooltip'\nimport Success from '../images/Success.svg'\nimport unSuccess from '../images/unSuccess.svg'\n\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n    const [selectedCard, setSelectedCard] = React.useState(null)\n    const [currentUser, setCurrentUser] = React.useState({})\n    const [cards, setCards] = React.useState([])\n    const [loggedIn, setLoggedIn] = React.useState(false)\n    const history = useHistory()\n    const [email, setEmail] = React.useState('')\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false)\n    const [message, setMessage] = React.useState({ img: '', text: '' })\n    const [token, setToken] = React.useState('')\n\n    React.useEffect(() => {\n        if (loggedIn) {\n            const jwt = localStorage.getItem('token')\n            console.log(`этот токен на фронте я отправляю на запрос с фронта после логина ${jwt}`)\n\n            auth.ApiUserInfo(jwt)\n                .then((user) => {\n                    setCurrentUser(user.data)\n                    console.log(user.data)\n                })\n                .catch((err) => console.log(err))\n        }\n\n    }, [loggedIn])\n\n    React.useEffect(() => {\n        if (loggedIn) {\n            api.getCards()\n                .then((cards) => {\n                    console.log(cards);\n                    setCards(cards.reverse())\n                })\n                .catch((err) => console.log(err))\n        }\n    }, [loggedIn])\n\n    function onUpdateUser(userData) {\n        api.setApiUserInfo(userData)\n            .then((user) => {\n                setCurrentUser(user.data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function onUpdateAvatar(userData) {\n        api.setAvatar(userData)\n            .then((user) => {\n                setCurrentUser(user.data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleAddPlaceSubmit(cardData) {\n        api.postCards(cardData)\n            .then((newCard) => {\n                console.log(newCard);\n                console.log(cards.data);\n                console.log(cards);\n                setCards([newCard, ...cards]);\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(id => id === currentUser._id);\n\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                setCards(cards.filter((item) => item !== card))\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true)\n    }\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true)\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true)\n    }\n\n    function onCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function closeAllPopups() {\n        setEditAvatarPopupOpen(false)\n        setEditProfilePopupOpen(false)\n        setAddPlacePopupOpen(false)\n        setSelectedCard(null)\n        setIsInfoTooltipOpen(false)\n    }\n\n    React.useEffect(() => {\n        const closeByEscape = (e) => {\n            if (e.key === 'Escape') {\n                closeAllPopups();\n            }\n        }\n\n        document.addEventListener('keydown', closeByEscape)\n\n        return () => document.removeEventListener('keydown', closeByEscape)\n    }, [])\n\n\n    React.useEffect(() => {\n        tokenCheck()\n    }, [])\n\n    function tokenCheck() {\n        const jwt = localStorage.getItem('token')\n        console.log(`точно точно точно он? ${jwt}`)\n\n        if (jwt) {\n            auth.getContent(jwt)\n                .then((res) => {\n                    setLoggedIn(true)\n                    setEmail(res.data.email)\n                    history.push('/')\n                })\n                .catch((err) => console.log(err))\n        }\n    }\n\n    // function tokenCheck() {\n    //     const jwt = localStorage.getItem('token')\n    //     console.log(jwt)\n\n    //     if (jwt) {\n    //         auth.getContent(jwt)\n    //             .then((res) => {\n    //                 setLoggedIn(true)\n    //                 setEmail(res.data.email)\n    //                 history.push('/')\n    //             })\n    //             .catch((err) => console.log(err))\n    //     }\n    // }\n\n    function handleRegistration(password, email) {\n        auth.register(password, email)\n            .then((result) => {\n                setEmail(result.data.email)\n                setMessage({ img: Success, text: 'Вы успешно зарегистрировались!' })\n                history.push('/sign-in')\n            })\n            .catch(() => setMessage({ img: unSuccess, text: 'Что-то пошло не так! Попробуйте ещё раз.' }))\n            .finally(() => setIsInfoTooltipOpen(true))\n    }\n\n    function handleAuth(password, email) {\n        auth.authorize(password, email)\n            .then((result) => {\n                console.log(`этоооооооо онннннннн на фронте ${result.token}`)\n\n                localStorage.setItem('token', result.token)\n                const ttt = localStorage.getItem('token');\n\n                console.log(ttt);\n                setLoggedIn(true)\n                history.push('/')\n                setEmail(email)\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function onSignOut() {\n        localStorage.removeItem('token')\n        setToken('')\n        const jwt = localStorage.getItem('token');\n        console.log(jwt)\n        setLoggedIn(false)\n\n    }\n\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header loggedIn={loggedIn} email={email} onSignOut={onSignOut} />\n                <Switch>\n                    <ProtectedRoute exact path='/' loggedIn={loggedIn} component={Main} onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={onCardClick} handleCardLike={handleCardLike} handleCardDelete={handleCardDelete} cards={cards} />\n                    <Route path='/sign-in'>\n                        <Register isOpen={isEditProfilePopupOpen} onRegister={handleRegistration} isInfoTooltipOpen={isInfoTooltipOpen} />\n                    </Route>\n                    <Route path='/sign-up'>\n                        <Login isOpen={isEditProfilePopupOpen} onAuth={handleAuth} />\n                    </Route>\n                </Switch>\n                <Footer />\n\n                <InfoTooltip name='tooltip' isOpen={isInfoTooltipOpen} onClose={closeAllPopups} title={message.text} img={message.img} />\n\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={onUpdateUser} />\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={onUpdateAvatar} />\n            </div>\n        </CurrentUserContext.Provider >\n    );\n}\n\nexport default App;","/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/contexts/CurrentUserContext.js",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/utils/api.js",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Footer.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Header.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/EditAvatarPopup.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Main.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/ImagePopup.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/AddPlacePopup.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Login.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Rigister.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/ProtectedRoute.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/InfoTooltip.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/utils/auth.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/AuthPage.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/PopupWithForm.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Info.jsx",[],"/Users/zeninmatvey/Desktop/dev/react-mesto-api-full/frontend/src/components/Card.jsx",[],{"ruleId":"241","replacedBy":"242"},{"ruleId":"243","replacedBy":"244"},{"ruleId":"245","severity":1,"message":"246","line":6,"column":8,"nodeType":"247","messageId":"248","endLine":6,"endColumn":21},{"ruleId":"241","replacedBy":"249"},{"ruleId":"243","replacedBy":"250"},{"ruleId":"251","severity":1,"message":"252","line":137,"column":8,"nodeType":"253","endLine":137,"endColumn":10,"suggestions":"254"},{"ruleId":"245","severity":1,"message":"255","line":35,"column":12,"nodeType":"247","messageId":"248","endLine":35,"endColumn":17},{"ruleId":"251","severity":1,"message":"252","line":152,"column":8,"nodeType":"253","endLine":152,"endColumn":10,"suggestions":"256"},"no-native-reassign",["257"],"no-negated-in-lhs",["258"],"no-unused-vars","'PopupWithForm' is defined but never used.","Identifier","unusedVar",["257"],["258"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'tokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["259"],"'token' is assigned a value but never used.",["260"],"no-global-assign","no-unsafe-negation",{"desc":"261","fix":"262"},{"desc":"261","fix":"263"},"Update the dependencies array to be: [tokenCheck]",{"range":"264","text":"265"},{"range":"266","text":"265"},[4177,4179],"[tokenCheck]",[4758,4760]]