{"version":3,"sources":["images/logo.svg","components/Info.jsx","components/Header.jsx","components/Footer.jsx","contexts/CurrentUserContext.js","components/Card.jsx","components/Main.jsx","components/ImagePopup.jsx","utils/api.js","components/PopupWithForm.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/ProtectedRoute.jsx","components/AuthPage.jsx","components/Login.jsx","components/Rigister.jsx","utils/auth.jsx","components/InfoTooltip.jsx","images/Success.svg","images/unSuccess.svg","components/App.jsx","reportWebVitals.js","index.jsx"],"names":["Info","loggedIn","email","onSignOut","className","to","onClick","withRouter","location","useLocation","src","logo","alt","pathname","Footer","nowyear","Date","getFullYear","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","id","cardLikeButtonClassName","link","name","onCardClick","type","onCardLike","length","onCardDelete","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","avatar","about","map","ImagePopup","onClose","Api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","newdata","body","JSON","stringify","data","jwt","localStorage","getItem","console","log","api","Authorization","PopupWithForm","isOpen","onSubmit","title","children","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","isModal","ProtectedRoute","Component","component","AuthPage","formName","buttonText","Register","onAuth","setEmail","password","setPassword","handleChange","onRegister","BASE_URL","handleResponse","response","InfoTooltip","img","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","history","useHistory","isInfoTooltipOpen","setIsInfoTooltipOpen","text","message","setMessage","setToken","closeAllPopups","token","auth","user","catch","err","getCards","reverse","closeByEscape","key","document","addEventListener","removeEventListener","push","tokenCheck","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","item","result","Success","unSuccess","finally","setItem","ttt","cardData","postCards","userData","setApiUserInfo","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.1b591f79.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link } from \"react-router-dom\"\n\n export default function Info({ loggedIn, email, onSignOut }) {\n   return (\n     <div className='header__info'>\n       <p className='header__email'>{email}</p>\n       <Link\n         to='sign-up'\n         className={`header__link ${loggedIn && 'header__link_state_active'}`}\n         onClick={onSignOut}\n       >\n         Выйти\n       </Link>\n     </div>\n   )\n } ","import logo from '../images/logo.svg';\nimport Info from \"./Info\"\nimport React from 'react';\nimport { Link, withRouter, useLocation } from 'react-router-dom';\n\nfunction Header({ loggedIn, email, onSignOut }) {\n    const location = useLocation()\n\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип\"></img>\n      {\n        loggedIn ?\n        <Info email={email} loggedIn={loggedIn} onSignOut={onSignOut} /> :\n        (<>\n          {\n            location.pathname === '/sign-up' ? \n            <Link className='header__link' to='/sign-in'>Регистрация</Link> :\n            <Link className='header__link' to='/sign-up'>Войти</Link>\n          }\n        </>)\n      }\n    </header>\n  )\n}\n\nexport default withRouter(Header)","import { useLocation } from 'react-router-dom';\n\nfunction Footer() {\n    const location = useLocation()\n\n    const nowyear = new Date().getFullYear()\n\n    return (\n        <>\n      {location.pathname === '/sign-up' ?(<></>) : location.pathname === '/sign-in' ?(<></>):\n           (<footer className=\"footer\">\n              <p className=\"footer__copyright\">&copy; {nowyear} Mesto Russia</p>\n            </footer>)\n      }\n    </>\n    )\n}\n\nexport default Footer","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n\n    const currentUser = React.useContext(CurrentUserContext)\n    // Определяем, являемся ли мы владельцем текущей карточки\n    const isOwn = props.card.owner === currentUser._id;\n\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n        `elements__remove-button ${isOwn ? '' : 'elements__remove-button_state_hidden'}`\n    );\n\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = props.card.likes.some((id) => id === currentUser._id);\n\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = (\n        `elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\n    );\n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(props.card)\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card)\n    }\n\n    return (\n        <li className=\"elements__card\">\n            <img className=\"elements__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick}></img>\n            <div className=\"elements__container\">\n                <h2 className=\"elements__title\">{props.card.name}</h2>\n                <div className=\"elements__like\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                    <span className=\"elements__like-count\">{props.card.likes.length}</span>\n                </div>\n            </div>\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"></button>\n        </li>\n    )\n}\n\nexport default Card","import React from 'react'\n\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, handleCardLike, handleCardDelete, cards }) {\n\n    const currentUser = React.useContext(CurrentUserContext)\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar-wrapper\">\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\"></img>\n                    <button type=\"button\" className=\"profile__avatar-button\" onClick={onEditAvatar}></button>\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__container\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n                    </div>\n                    <h2 className=\"profile__about\">{currentUser.about}</h2>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n            </section>\n            <section className=\"cards\">\n                <ul className=\"elements\">\n                    {cards.map((card) => (\n                        <Card\n                            key={card._id}\n                            card={card}\n                            onCardClick={onCardClick}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleCardDelete}\n                        />\n                    )\n                    )}\n                </ul>\n            </section>\n        </main>\n    )\n}\n\nexport default Main\n","function ImagePopup(props) {\n\n    return (\n        <div className={`popup popup_zoom-image ${props.card ? 'popup_opened' : ''}`}>\n            <div className=\"popup__figure-container popup__overlay\">\n                <figure className=\"popup__figure\">\n                    <img className=\"popup__image\"  src={props.card?.link} alt={props.card?.name} />\n                    <figcaption className=\"popup__caption\">{props.card ? props.card.name : ''}</figcaption>\n                </figure>\n                <button type=\"button\" className=\"popup__close-button popup__close-button_zoom-image\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup","class Api {\n    constructor(config) {\n        this._url = config.url\n        this._headers = config.headers\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getCards() {\n        return fetch(this._url + '/cards', {\n            method: 'GET',\n            headers: this._headers\n        })\n            .then(this._checkResponse);\n    }\n\n    getApiUserInfo() {\n        return fetch(this._url + '/users/me', {\n            method: 'GET',\n            headers: this._headers\n        })\n            .then(this._checkResponse);\n    }\n\n    setApiUserInfo(newdata) {\n        return fetch(this._url + '/users/me', {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: newdata.name,\n                about: newdata.about\n            })\n        })\n            .then(this._checkResponse);\n    }\n\n    postCards(data) {\n        return fetch(this._url + '/cards', {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._checkResponse);\n    }\n\n    deleteCard(data) {\n        return fetch(this._url + `/cards/${data}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(this._checkResponse);\n    }\n\n    setAvatar(data) {\n        return fetch(this._url + '/users/me/avatar', {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        })\n            .then(this._checkResponse);\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        return fetch(this._url + `/cards/${id}/likes`, {\n            method: `${isLiked ? 'PUT' : 'DELETE'}`,\n            headers: this._headers\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteLike(data) {\n        return fetch(this._url + `/cards/likes/${data}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(this._checkResponse);\n    }\n}\n\nconst jwt = localStorage.getItem('token')\n\nconsole.log(`Это api ${jwt}`)\n\nconst api = new Api({\n    url: 'http://localhost:3001',\n    headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n    }\n})\n\nexport default api","function PopupWithForm(props) {\n\n    return (\n        <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit}>\n                <h2 className=\"popup__title\">{props.title}</h2>\n                    {props.children}\n                    <button type=\"submit\" className=\"popup__button\">Сохранить</button>\n                </form>\n                <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithForm","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\n\nfunction EditProfilePopup({ isOpen, onUpdateUser, onClose }) {\n    const [name, setName] = React.useState('')\n    const [description, setDescription] = React.useState('')\n\n    // Подписка на контекст\n    const currentUser = React.useContext(CurrentUserContext)\n\n    // После загрузки текущего пользователя из API\n    // его данные будут использованы в управляемых компонентах.\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onUpdateUser({\n            name: name,\n            about: description,\n        })\n\n    }\n\n    return (\n        <PopupWithForm name='profile-edit' title='Редактировать профиль' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <input id=\"userName\" name=\"userName\" className=\"popup__input popup__input_user_name\" type=\"text\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required value={name || ''}  onChange={handleNameChange}></input>\n            <span id=\"userName-error\" className=\"popup__input-error\"></span>\n            <input id=\"userAbout\" name=\"userAbout\" className=\"popup__input popup__input_user_description\" type=\"text\" placeholder=\"Профессия\" minLength=\"2\" maxLength=\"200\" required value={description || ''}  onChange={handleDescriptionChange}></input>\n            <span id=\"userAbout-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditProfilePopup","import React, { useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onUpdateAvatar, onClose }) {\n\n    const avatarRef = React.useRef('')\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onUpdateAvatar({\n            avatar: avatarRef.current.value\n        })\n    }\n\n    useEffect(() => {\n        avatarRef.current.value = ''\n      }, [isOpen])\n\n\n    return (\n        <PopupWithForm name='avatar-edit' title='Обновить аватар' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <input id=\"avatar-link\" name=\"userAvatar\" className=\"popup__input popup__input_place_description\" type=\"url\" placeholder=\"Ссылка на картинку\" minLength=\"2\" maxLength=\"100000\" required ref={avatarRef}></input>\n            <span id=\"avatar-link-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditAvatarPopup","import React, { useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\n\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\n    const [name, setName] = React.useState('')\n    const [link, setLink] = React.useState('')\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onAddPlace({\n            name: name,\n            link: link,\n        })\n    }\n\n    useEffect(() => {\n        setName('')\n        setLink('')\n    }, [isOpen])\n\n    return (\n        <PopupWithForm name='card-add' title='Новое место' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} isModal={true}>\n            <input id=\"placeName\" name=\"name\" className=\"popup__input popup__input_place_name\" type=\"text\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" value={name} required onChange={handleNameChange}></input>\n            <span id=\"placeName-error\" className=\"popup__input-error\"></span>\n            <input id=\"link\" name=\"link\" className=\"popup__input popup__input_place_description\" type=\"url\" placeholder=\"Ссылка на картинку\" minLength=\"2\" maxLength=\"100000\" value={link} required onChange={handleLinkChange}></input>\n            <span id=\"link-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    )\n\n\n}\n\nexport default AddPlacePopup","import { Route, Redirect } from \"react-router-dom\"\n\n export default function ProtectedRoute( { component: Component, ...props } ) {\n   return (\n     <Route>\n       {\n         () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />)\n       }\n     </Route>\n   )\n }","import React from 'react'\n import { Link } from 'react-router-dom';\n\n export default function AuthPage (\n {children, formName, onSubmit, buttonText, title,}) {\n   return (\n     <div className='auth-page'>\n         <form className='auth-page__form' name={formName} onSubmit={onSubmit}>\n           <h2 className='auth-page__title'>{title}</h2>\n             {children}\n           <button type=\"submit\" className='auth-page__button'>{buttonText}</button>\n           {formName === 'register' && <Link className='auth-page__link' to='/sign-up'>Уже зарегистрированы? Войти</Link>}\n         </form>\n     </div>\n   )\n } ","import React from 'react'\nimport AuthPage from './AuthPage'\n\nexport default function Register({ onAuth }) {\n\n  const [email, setEmail] = React.useState('')\n  const [password, setPassword] = React.useState('')\n\n  function handleChange(e) {\n    const {value} = e.target\n    e.target.name === 'Email' ? setEmail(value) : setPassword(value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAuth(password, email)\n    console.log(password, email)\n  }\n\n  return (\n    <div className='login'>\n      <AuthPage formName='login' onSubmit={handleSubmit} title='Вход' buttonText='Войти'>\n        <input name=\"Email\" type=\"email\" className=\"popup__input popup__input_type_login\" id=\"email\" placeholder=\"Email\" minLength=\"6\" maxLength=\"40\" required value={email} onChange={handleChange}/>\n        <input name=\"Password\" type=\"password\" className=\"popup__input popup__input_type_login\" id=\"password\" placeholder=\"Пароль\" minLength=\"6\" maxLength=\"40\" required value={password} onChange={handleChange}/>\n      </AuthPage>\n    </div>\n  )\n}","import React, { useState } from 'react'\nimport AuthPage from './AuthPage'\n\nexport default function Register({ onRegister }) {\n\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n \n    function handleChange(e) {\n      const {value} = e.target\n      e.target.name === 'Email' ? setEmail(value) : setPassword(value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        onRegister(password, email)\n        console.log(password, email)\n    }\n \n    return (\n      <div className='register'>\n        <AuthPage formName='register' title='Регистрация' onSubmit={handleSubmit} buttonText='Зарегистрироваться'>\n          <input name=\"Email\" type=\"email\" className=\"popup__input popup__input_type_login\" id=\"email\" placeholder=\"Email\" minLength=\"6\" maxLength=\"40\" required value={email} onChange={handleChange}/>\n          <input name=\"Password\" type=\"password\" className=\"popup__input popup__input_type_login\" id=\"password\" placeholder=\"Пароль\" minLength=\"6\" maxLength=\"40\" required value={password} onChange={handleChange}/>\n        </AuthPage>\n      </div>\n    )\n  } ","export const BASE_URL = 'http://localhost:3001'\n// const jwt = localStorage.getItem('token')\n\nconst handleResponse = response => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`)\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n\n        headers: {\n            // Authorization: `Bearer ${jwt}`,\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ password: password, email: email })\n    })\n        .then(handleResponse)\n}\n\nexport const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n\n        headers: {\n            // Authorization: `Bearer ${jwt}`,\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ password: password, email: email })\n    })\n        .then(handleResponse)\n\n}\n\nexport const getContent = (token) => {\n    console.log(`токен для проверки ${token}`)\n    return fetch(`${BASE_URL}/users/`, {\n        method: 'GET',\n\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    })\n        .then(handleResponse)\n}\n\nexport const ApiUserInfo = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n\n        headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n        },\n    })\n        .then(handleResponse)\n\n}","export default function InfoTooltip({ isOpen, onClose, title, img }) {\n   return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\n    <div className=\"popup__container popup__overlay\">\n        <div className='popup__wrapper'>\n            <img src={img} alt={img} className='popup__tooltip' />\n            <h2 className=\"popup__title popup__title_type_tooltip\">{title}</h2>\n        </div>\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n    </div>  \n  </div>\n   )\n}","export default __webpack_public_path__ + \"static/media/Success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unSuccess.df8eddf6.svg\";","\nimport React from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport ImagePopup from './ImagePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/api'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport ProtectedRoute from './ProtectedRoute'\nimport Login from './Login'\nimport Register from './Rigister'\nimport * as auth from '../utils/auth'\nimport InfoTooltip from './InfoTooltip'\nimport Success from '../images/Success.svg'\nimport unSuccess from '../images/unSuccess.svg'\n\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n    const [selectedCard, setSelectedCard] = React.useState(null)\n    const [currentUser, setCurrentUser] = React.useState({})\n    const [cards, setCards] = React.useState([])\n    const [loggedIn, setLoggedIn] = React.useState(false)\n    const history = useHistory()\n    const [email, setEmail] = React.useState('')\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false)\n    const [message, setMessage] = React.useState({ img: '', text: '' })\n    const [token, setToken] = React.useState('')\n\n    React.useEffect(() => {\n        if (loggedIn) {\n            const jwt = localStorage.getItem('token')\n            console.log(`этот токен на фронте я отправляю на запрос с фронта после логина ${jwt}`)\n\n            auth.ApiUserInfo(jwt)\n                .then((user) => {\n                    setCurrentUser(user.data)\n                    console.log(user.data)\n                })\n                .catch((err) => console.log(err))\n        }\n\n    }, [loggedIn])\n\n    React.useEffect(() => {\n        if (loggedIn) {\n            api.getCards()\n                .then((cards) => {\n                    console.log(cards);\n                    setCards(cards.reverse())\n                })\n                .catch((err) => console.log(err))\n        }\n    }, [loggedIn])\n\n    function onUpdateUser(userData) {\n        api.setApiUserInfo(userData)\n            .then((user) => {\n                setCurrentUser(user.data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function onUpdateAvatar(userData) {\n        api.setAvatar(userData)\n            .then((user) => {\n                setCurrentUser(user.data)\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleAddPlaceSubmit(cardData) {\n        api.postCards(cardData)\n            .then((newCard) => {\n                console.log(newCard);\n                console.log(cards.data);\n                console.log(cards);\n                setCards([newCard, ...cards]);\n                closeAllPopups()\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(id => id === currentUser._id);\n\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                setCards(cards.filter((item) => item !== card))\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true)\n    }\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true)\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true)\n    }\n\n    function onCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    function closeAllPopups() {\n        setEditAvatarPopupOpen(false)\n        setEditProfilePopupOpen(false)\n        setAddPlacePopupOpen(false)\n        setSelectedCard(null)\n        setIsInfoTooltipOpen(false)\n    }\n\n    React.useEffect(() => {\n        const closeByEscape = (e) => {\n            if (e.key === 'Escape') {\n                closeAllPopups();\n            }\n        }\n\n        document.addEventListener('keydown', closeByEscape)\n\n        return () => document.removeEventListener('keydown', closeByEscape)\n    }, [])\n\n\n    React.useEffect(() => {\n        tokenCheck()\n    }, [])\n\n    function tokenCheck() {\n        const jwt = localStorage.getItem('token')\n        console.log(`точно точно точно он? ${jwt}`)\n\n        if (jwt) {\n            auth.getContent(jwt)\n                .then((res) => {\n                    setLoggedIn(true)\n                    setEmail(res.data.email)\n                    history.push('/')\n                })\n                .catch((err) => console.log(err))\n        }\n    }\n\n    // function tokenCheck() {\n    //     const jwt = localStorage.getItem('token')\n    //     console.log(jwt)\n\n    //     if (jwt) {\n    //         auth.getContent(jwt)\n    //             .then((res) => {\n    //                 setLoggedIn(true)\n    //                 setEmail(res.data.email)\n    //                 history.push('/')\n    //             })\n    //             .catch((err) => console.log(err))\n    //     }\n    // }\n\n    function handleRegistration(password, email) {\n        auth.register(password, email)\n            .then((result) => {\n                setEmail(result.data.email)\n                setMessage({ img: Success, text: 'Вы успешно зарегистрировались!' })\n                history.push('/sign-in')\n            })\n            .catch(() => setMessage({ img: unSuccess, text: 'Что-то пошло не так! Попробуйте ещё раз.' }))\n            .finally(() => setIsInfoTooltipOpen(true))\n    }\n\n    function handleAuth(password, email) {\n        auth.authorize(password, email)\n            .then((result) => {\n                console.log(`этоооооооо онннннннн на фронте ${result.token}`)\n\n                localStorage.setItem('token', result.token)\n                const ttt = localStorage.getItem('token');\n\n                console.log(ttt);\n                setLoggedIn(true)\n                history.push('/')\n                setEmail(email)\n            })\n            .catch((err) => console.log(err))\n    }\n\n    function onSignOut() {\n        localStorage.removeItem('token')\n        setToken('')\n        const jwt = localStorage.getItem('token');\n        console.log(jwt)\n        setLoggedIn(false)\n\n    }\n\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header loggedIn={loggedIn} email={email} onSignOut={onSignOut} />\n                <Switch>\n                    <ProtectedRoute exact path='/' loggedIn={loggedIn} component={Main} onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={onCardClick} handleCardLike={handleCardLike} handleCardDelete={handleCardDelete} cards={cards} />\n                    <Route path='/sign-in'>\n                        <Register isOpen={isEditProfilePopupOpen} onRegister={handleRegistration} isInfoTooltipOpen={isInfoTooltipOpen} />\n                    </Route>\n                    <Route path='/sign-up'>\n                        <Login isOpen={isEditProfilePopupOpen} onAuth={handleAuth} />\n                    </Route>\n                </Switch>\n                <Footer />\n\n                <InfoTooltip name='tooltip' isOpen={isInfoTooltipOpen} onClose={closeAllPopups} title={message.text} img={message.img} />\n\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={onUpdateUser} />\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={onUpdateAvatar} />\n            </div>\n        </CurrentUserContext.Provider >\n    );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/'>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}